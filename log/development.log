DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (0.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (168.6ms)[0m  CREATE TABLE `activities` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `project_id` int(11), `target_id` int(11), `target_type` varchar(255), `action` varchar(255), `comment_target_type` varchar(255), `created_at` datetime, `updated_at` datetime, `comment_target_id` int(11), `deleted` tinyint(1) DEFAULT 0 NOT NULL, `last_activity_id` int(11), `is_private` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (258.6ms)[0m  CREATE INDEX `index_activities_on_comment_target_id` ON `activities` (`comment_target_id`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (258.9ms)[0m  CREATE INDEX `index_activities_on_comment_target_type` ON `activities` (`comment_target_type`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (251.6ms)[0m  CREATE INDEX `index_activities_on_created_at` ON `activities` (`created_at`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (283.7ms)[0m  CREATE INDEX `index_activities_on_deleted` ON `activities` (`deleted`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (258.5ms)[0m  CREATE INDEX `index_activities_on_is_private` ON `activities` (`is_private`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (275.1ms)[0m  CREATE INDEX `index_activities_on_last_activity_id` ON `activities` (`last_activity_id`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (251.5ms)[0m  CREATE INDEX `index_activities_on_project_id` ON `activities` (`project_id`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (351.4ms)[0m  CREATE INDEX `index_activities_on_target_id` ON `activities` (`target_id`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW KEYS FROM `activities`[0m
  [1m[35mSQL (258.4ms)[0m  CREATE INDEX `index_activities_on_target_type` ON `activities` (`target_type`)
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TABLES
  [1m[36mSQL (131.6ms)[0m  [1mCREATE TABLE `addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `card_id` int(11), `street` varchar(255), `city` varchar(255), `state` varchar(255), `zip` varchar(255), `country` varchar(255), `account_type` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35mSQL (0.4ms)[0m  SHOW TABLES
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (123.5ms)[0m  CREATE TABLE `announcements` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `comment_id` int(11)) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (141.1ms)[0m  [1mCREATE TABLE `app_links` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `provider` varchar(255), `app_user_id` varchar(255), `custom_attributes` text, `created_at` datetime, `updated_at` datetime, `credentials` text) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `app_links`
  [1m[36mSQL (267.3ms)[0m  [1mCREATE INDEX `index_app_links_on_provider_and_app_user_id` ON `app_links` (`provider`, `app_user_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `app_links`
  [1m[36mSQL (250.5ms)[0m  [1mCREATE INDEX `index_app_links_on_user_id` ON `app_links` (`user_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.3ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (131.7ms)[0m  CREATE TABLE `cards` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `public` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (131.2ms)[0m  [1mCREATE TABLE `client_applications` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `url` varchar(255), `support_url` varchar(255), `callback_url` varchar(255), `key` varchar(40), `secret` varchar(40), `user_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `client_applications`
  [1m[36mSQL (260.4ms)[0m  [1mCREATE UNIQUE INDEX `index_client_applications_on_key` ON `client_applications` (`key`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (121.3ms)[0m  CREATE TABLE `comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `target_id` int(11), `target_type` varchar(255), `project_id` int(11), `user_id` int(11), `body` text, `body_html` text, `hours` float, `billable` tinyint(1), `status` int(11), `previous_status` int(11), `assigned_id` int(11), `previous_assigned_id` int(11), `created_at` datetime, `updated_at` datetime, `due_on` date, `previous_due_on` date, `uploads_count` int(11) DEFAULT 0, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `is_private` tinyint(1) DEFAULT 0 NOT NULL, `urgent` tinyint(1) DEFAULT 0 NOT NULL, `previous_urgent` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `comments`[0m
  [1m[35mSQL (250.6ms)[0m  CREATE INDEX `index_comments_on_created_at` ON `comments` (`created_at`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `comments`[0m
  [1m[35mSQL (250.4ms)[0m  CREATE INDEX `index_comments_on_deleted` ON `comments` (`deleted`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `comments`[0m
  [1m[35mSQL (258.6ms)[0m  CREATE INDEX `index_comments_on_hours` ON `comments` (`hours`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `comments`[0m
  [1m[35mSQL (276.6ms)[0m  CREATE INDEX `index_comments_on_is_private` ON `comments` (`is_private`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `comments`[0m
  [1m[35mSQL (250.1ms)[0m  CREATE INDEX `index_comments_on_project_id` ON `comments` (`project_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `comments`[0m
  [1m[35mSQL (250.3ms)[0m  CREATE INDEX `index_comments_on_target_type_and_target_id_and_user_id` ON `comments` (`target_type`, `target_id`, `user_id`)
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.3ms)[0m  SHOW TABLES
  [1m[36mSQL (131.6ms)[0m  [1mCREATE TABLE `comments_read` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `target_id` int(11), `target_type` varchar(255), `user_id` int(11), `last_read_comment_id` int(11)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `comments_read`
  [1m[36mSQL (258.9ms)[0m  [1mCREATE INDEX `index_comments_read_on_target_type_and_target_id_and_user_id` ON `comments_read` (`target_type`, `target_id`, `user_id`)[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (132.2ms)[0m  CREATE TABLE `conversations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `user_id` int(11), `name` varchar(255), `last_comment_id` int(11), `comments_count` int(11) DEFAULT 0 NOT NULL, `created_at` datetime, `updated_at` datetime, `simple` tinyint(1) DEFAULT 0, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `converted_to` int(11), `is_private` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `conversations`[0m
  [1m[35mSQL (250.4ms)[0m  CREATE INDEX `index_conversations_on_deleted` ON `conversations` (`deleted`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `conversations`[0m
  [1m[35mSQL (250.2ms)[0m  CREATE INDEX `index_conversations_on_is_private` ON `conversations` (`is_private`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `conversations`[0m
  [1m[35mSQL (258.9ms)[0m  CREATE INDEX `index_conversations_on_project_id` ON `conversations` (`project_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (130.8ms)[0m  [1mCREATE TABLE `dividers` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `page_id` int(11), `project_id` int(11), `name` varchar(255), `position` int(11), `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `dividers`
  [1m[36mSQL (268.3ms)[0m  [1mCREATE INDEX `index_dividers_on_deleted` ON `dividers` (`deleted`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `dividers`
  [1m[36mSQL (250.6ms)[0m  [1mCREATE INDEX `index_dividers_on_page_id` ON `dividers` (`page_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (131.1ms)[0m  CREATE TABLE `email_addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `card_id` int(11), `name` varchar(255), `account_type` int(11) DEFAULT 0) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (123.0ms)[0m  [1mCREATE TABLE `email_bounces` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `email` varchar(255), `exception_type` varchar(255), `exception_message` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `email_bounces`
  [1m[36mSQL (283.8ms)[0m  [1mCREATE INDEX `index_email_bounces_on_created_at` ON `email_bounces` (`created_at`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `email_bounces`
  [1m[36mSQL (268.6ms)[0m  [1mCREATE INDEX `index_email_bounces_on_email` ON `email_bounces` (`email`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (123.0ms)[0m  CREATE TABLE `emails` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `from` varchar(255), `to` varchar(255), `last_send_attempt` int(11) DEFAULT 0, `mail` text, `created_on` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (130.8ms)[0m  [1mCREATE TABLE `folders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `user_id` int(11), `project_id` int(11), `parent_folder_id` int(11), `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `token` varchar(255)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `folders`
  [1m[36mSQL (250.8ms)[0m  [1mCREATE INDEX `index_folders_on_token` ON `folders` (`token`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (138.5ms)[0m  CREATE TABLE `google_docs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `user_id` int(11), `comment_id` int(11), `title` varchar(255), `document_id` varchar(255), `document_type` varchar(255), `url` varchar(255), `edit_url` varchar(255), `acl_url` varchar(255), `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `write_lock` tinyint(1) DEFAULT 0) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `google_docs`[0m
  [1m[35mSQL (267.1ms)[0m  CREATE INDEX `index_google_docs_on_comment_id` ON `google_docs` (`comment_id`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `google_docs`[0m
  [1m[35mSQL (253.8ms)[0m  CREATE INDEX `index_google_docs_on_deleted` ON `google_docs` (`deleted`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `google_docs`[0m
  [1m[35mSQL (275.4ms)[0m  CREATE INDEX `index_google_docs_on_project_id` ON `google_docs` (`project_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `google_docs`[0m
  [1m[35mSQL (250.4ms)[0m  CREATE INDEX `index_google_docs_on_user_id` ON `google_docs` (`user_id`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (2.4ms)[0m  SHOW TABLES
  [1m[36mSQL (120.6ms)[0m  [1mCREATE TABLE `ims` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `card_id` int(11), `name` varchar(255), `account_im_type` int(11) DEFAULT 0, `account_type` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (214.1ms)[0m  CREATE TABLE `invitations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `project_id` int(11), `role` int(11) DEFAULT 2, `email` varchar(255), `invited_user_id` int(11), `token` varchar(255), `created_at` datetime, `updated_at` datetime, `membership` int(11) DEFAULT 10, `deleted` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `invitations`[0m
  [1m[35mSQL (333.9ms)[0m  CREATE INDEX `index_invitations_on_deleted` ON `invitations` (`deleted`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `invitations`[0m
  [1m[35mSQL (259.9ms)[0m  CREATE INDEX `index_invitations_on_project_id` ON `invitations` (`project_id`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `invitations`[0m
  [1m[35mSQL (258.6ms)[0m  CREATE INDEX `index_invitations_on_user_id` ON `invitations` (`user_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.5ms)[0m  SHOW TABLES
  [1m[36mSQL (122.4ms)[0m  [1mCREATE TABLE `memberships` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `organization_id` int(11), `role` int(11) DEFAULT 20, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (0.5ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (122.4ms)[0m  CREATE TABLE `notes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `page_id` int(11), `project_id` int(11), `name` varchar(255), `body` text, `body_html` text, `position` int(11), `last_comment_id` int(11), `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `notes`[0m
  [1m[35mSQL (250.7ms)[0m  CREATE INDEX `index_notes_on_deleted` ON `notes` (`deleted`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `notes`[0m
  [1m[35mSQL (251.6ms)[0m  CREATE INDEX `index_notes_on_page_id` ON `notes` (`page_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `notes`[0m
  [1m[35mSQL (250.1ms)[0m  CREATE INDEX `index_notes_on_project_id` ON `notes` (`project_id`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (122.1ms)[0m  [1mCREATE TABLE `notifications` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `person_id` int(11), `user_id` int(11), `comment_id` int(11), `target_id` int(11), `target_type` varchar(255), `sent` tinyint(1) DEFAULT 0, `read` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `notifications`
  [1m[36mSQL (601.1ms)[0m  [1mCREATE INDEX `index_notifications_on_comment_id` ON `notifications` (`comment_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `notifications`
  [1m[36mSQL (275.3ms)[0m  [1mCREATE INDEX `index_notifications_on_person_id_and_sent` ON `notifications` (`person_id`, `sent`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `notifications`
  [1m[36mSQL (276.4ms)[0m  [1mCREATE INDEX `index_notifications_on_user_id_and_read` ON `notifications` (`user_id`, `read`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (139.2ms)[0m  CREATE TABLE `oauth_nonces` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `nonce` varchar(255), `timestamp` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `oauth_nonces`[0m
  [1m[35mSQL (275.5ms)[0m  CREATE UNIQUE INDEX `index_oauth_nonces_on_nonce_and_timestamp` ON `oauth_nonces` (`nonce`, `timestamp`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (155.0ms)[0m  [1mCREATE TABLE `oauth_tokens` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `type` varchar(20), `client_application_id` int(11), `token` varchar(40), `secret` varchar(40), `callback_url` varchar(255), `verifier` varchar(20), `scope` varchar(255), `authorized_at` datetime, `invalidated_at` datetime, `valid_to` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.5ms)[0m  SHOW KEYS FROM `oauth_tokens`
  [1m[36mSQL (275.7ms)[0m  [1mCREATE UNIQUE INDEX `index_oauth_tokens_on_token` ON `oauth_tokens` (`token`)[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (146.5ms)[0m  CREATE TABLE `organizations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `permalink` varchar(255) NOT NULL, `language` varchar(255) DEFAULT 'en', `time_zone` varchar(255) DEFAULT 'Eastern Time (US & Canada)', `domain` varchar(255), `description` text, `logo_file_name` varchar(255), `logo_content_type` varchar(255), `logo_file_size` int(11), `created_at` datetime, `updated_at` datetime, `settings` text, `deleted` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `organizations`[0m
  [1m[35mSQL (293.5ms)[0m  CREATE INDEX `index_organizations_on_deleted` ON `organizations` (`deleted`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `organizations`[0m
  [1m[35mSQL (275.4ms)[0m  CREATE INDEX `index_organizations_on_domain` ON `organizations` (`domain`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `organizations`[0m
  [1m[35mSQL (275.4ms)[0m  CREATE INDEX `index_organizations_on_permalink` ON `organizations` (`permalink`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.6ms)[0m  SHOW TABLES
  [1m[36mSQL (139.1ms)[0m  [1mCREATE TABLE `page_slots` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `page_id` int(11), `rel_object_id` int(11) DEFAULT 0 NOT NULL, `rel_object_type` varchar(30), `position` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (146.9ms)[0m  CREATE TABLE `pages` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `user_id` int(11), `name` varchar(255), `description` text, `last_comment_id` int(11), `created_at` datetime, `updated_at` datetime, `position` int(11), `permalink` varchar(255), `deleted` tinyint(1) DEFAULT 0 NOT NULL, `is_private` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `pages`[0m
  [1m[35mSQL (285.0ms)[0m  CREATE INDEX `index_pages_on_deleted` ON `pages` (`deleted`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `pages`[0m
  [1m[35mSQL (275.5ms)[0m  CREATE INDEX `index_pages_on_is_private` ON `pages` (`is_private`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `pages`[0m
  [1m[35mSQL (283.5ms)[0m  CREATE INDEX `index_pages_on_project_id` ON `pages` (`project_id`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (138.1ms)[0m  [1mCREATE TABLE `people` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `project_id` int(11), `source_user_id` int(11), `permissions` varchar(255), `role` int(11) DEFAULT 2, `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `digest` int(11) DEFAULT 0, `last_digest_delivery` datetime, `next_digest_delivery` datetime, `watch_new_task` tinyint(1) DEFAULT 0, `watch_new_conversation` tinyint(1) DEFAULT 0, `watch_new_page` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `people`
  [1m[36mSQL (292.2ms)[0m  [1mCREATE INDEX `index_people_on_deleted` ON `people` (`deleted`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `people`
  [1m[36mSQL (268.2ms)[0m  [1mCREATE INDEX `index_people_on_project_id` ON `people` (`project_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `people`
  [1m[36mSQL (283.5ms)[0m  [1mCREATE UNIQUE INDEX `index_people_on_user_id_and_project_id` ON `people` (`user_id`, `project_id`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `people`
  [1m[36mSQL (266.8ms)[0m  [1mCREATE INDEX `index_people_on_user_id` ON `people` (`user_id`)[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (139.1ms)[0m  CREATE TABLE `phone_numbers` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `card_id` int(11), `name` varchar(255), `account_type` int(11) DEFAULT 0) ENGINE=InnoDB
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (138.3ms)[0m  [1mCREATE TABLE `projects` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `name` varchar(255), `permalink` varchar(255), `last_comment_id` int(11), `comments_count` int(11) DEFAULT 0 NOT NULL, `archived` tinyint(1) DEFAULT 0, `tracks_time` tinyint(1) DEFAULT 0, `created_at` datetime, `updated_at` datetime, `public` tinyint(1), `organization_id` int(11), `deleted` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.8ms)[0m  SHOW KEYS FROM `projects`
  [1m[36mSQL (291.8ms)[0m  [1mCREATE INDEX `index_projects_on_deleted` ON `projects` (`deleted`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `projects`
  [1m[36mSQL (251.8ms)[0m  [1mCREATE INDEX `index_projects_on_permalink` ON `projects` (`permalink`)[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (130.4ms)[0m  CREATE TABLE `reset_passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mSQL (122.1ms)[0m  [1mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) DEFAULT '' NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `sessions`
  [1m[36mSQL (250.7ms)[0m  [1mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `sessions`
  [1m[36mSQL (283.7ms)[0m  [1mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (130.3ms)[0m  CREATE TABLE `social_networks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `card_id` int(11), `name` varchar(255), `account_network_type` int(11) DEFAULT 0, `account_type` int(11) DEFAULT 0) ENGINE=InnoDB
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (131.9ms)[0m  [1mCREATE TABLE `task_list_templates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `organization_id` int(11), `position` int(11), `raw_tasks` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (129.3ms)[0m  CREATE TABLE `task_lists` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `user_id` int(11), `page_id` int(11), `name` varchar(255), `position` int(11), `last_comment_id` int(11), `comments_count` int(11) DEFAULT 0 NOT NULL, `archived` tinyint(1) DEFAULT 0, `archived_tasks_count` int(11) DEFAULT 0 NOT NULL, `tasks_count` int(11) DEFAULT 0 NOT NULL, `completed_at` datetime, `start_on` date, `finish_on` date, `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `task_lists`[0m
  [1m[35mSQL (250.7ms)[0m  CREATE INDEX `index_task_lists_on_deleted` ON `task_lists` (`deleted`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `task_lists`[0m
  [1m[35mSQL (258.7ms)[0m  CREATE INDEX `index_task_lists_on_project_id` ON `task_lists` (`project_id`)
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (129.1ms)[0m  [1mCREATE TABLE `tasks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `page_id` int(11), `task_list_id` int(11), `user_id` int(11), `name` varchar(255), `position` int(11), `comments_count` int(11) DEFAULT 0 NOT NULL, `last_comment_id` int(11), `assigned_id` int(11), `status` int(11) DEFAULT 0, `due_on` date, `completed_at` datetime, `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `is_private` tinyint(1) DEFAULT 0 NOT NULL, `google_calendar_url_token` varchar(255), `urgent` tinyint(1) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `tasks`
  [1m[36mSQL (242.1ms)[0m  [1mCREATE INDEX `index_tasks_on_assigned_id` ON `tasks` (`assigned_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `tasks`
  [1m[36mSQL (251.5ms)[0m  [1mCREATE INDEX `index_tasks_on_deleted` ON `tasks` (`deleted`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `tasks`
  [1m[36mSQL (367.2ms)[0m  [1mCREATE INDEX `index_tasks_on_is_private` ON `tasks` (`is_private`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `tasks`
  [1m[36mSQL (342.1ms)[0m  [1mCREATE INDEX `index_tasks_on_project_id` ON `tasks` (`project_id`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `tasks`
  [1m[36mSQL (250.2ms)[0m  [1mCREATE INDEX `index_tasks_on_task_list_id` ON `tasks` (`task_list_id`)[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (129.5ms)[0m  CREATE TABLE `teambox_datas` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `type_id` int(11), `project_ids` text, `processed_data_file_name` varchar(255), `processed_data_content_type` varchar(255), `processed_data_file_size` int(11), `processed_at` datetime, `created_at` datetime, `updated_at` datetime, `processed_objects` text, `service` varchar(255), `status` int(11) DEFAULT 0, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `organization_id` int(11), `user_map` text) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `teambox_datas`[0m
  [1m[35mSQL (260.1ms)[0m  CREATE INDEX `index_teambox_datas_on_deleted` ON `teambox_datas` (`deleted`)
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (121.1ms)[0m  [1mCREATE TABLE `uploads` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `project_id` int(11), `comment_id` int(11), `page_id` int(11), `description` text, `asset_file_name` varchar(255), `asset_content_type` varchar(255), `asset_file_size` int(11), `created_at` datetime, `updated_at` datetime, `deleted` tinyint(1) DEFAULT 0 NOT NULL, `is_private` tinyint(1) DEFAULT 0 NOT NULL, `parent_folder_id` int(11), `token` varchar(16)) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `uploads`
  [1m[36mSQL (275.4ms)[0m  [1mCREATE INDEX `index_uploads_on_comment_id` ON `uploads` (`comment_id`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `uploads`
  [1m[36mSQL (417.6ms)[0m  [1mCREATE INDEX `index_uploads_on_deleted` ON `uploads` (`deleted`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `uploads`
  [1m[36mSQL (260.0ms)[0m  [1mCREATE INDEX `index_uploads_on_is_private` ON `uploads` (`is_private`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `uploads`
  [1m[36mSQL (267.0ms)[0m  [1mCREATE INDEX `index_uploads_on_page_id_and_asset_file_name` ON `uploads` (`page_id`, `asset_file_name`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `uploads`
  [1m[36mSQL (258.4ms)[0m  [1mCREATE INDEX `index_uploads_on_project_id_and_deleted_and_updated_at` ON `uploads` (`project_id`, `deleted`, `updated_at`)[0m
  [1m[35mSQL (0.8ms)[0m  SHOW KEYS FROM `uploads`
  [1m[36mSQL (250.1ms)[0m  [1mCREATE INDEX `index_uploads_on_token` ON `uploads` (`token`)[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (123.9ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `first_name` varchar(20) DEFAULT '', `last_name` varchar(20) DEFAULT '', `biography` text, `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `remember_token` varchar(40), `remember_token_expires_at` datetime, `time_zone` varchar(255) DEFAULT 'Eastern Time (US & Canada)', `locale` varchar(255) DEFAULT 'en', `first_day_of_week` varchar(255) DEFAULT 'sunday', `invitations_count` int(11) DEFAULT 0 NOT NULL, `login_token` varchar(40), `login_token_expires_at` datetime, `confirmed_user` tinyint(1) DEFAULT 0, `rss_token` varchar(40), `admin` tinyint(1) DEFAULT 0, `comments_count` int(11) DEFAULT 0 NOT NULL, `notify_mentions` tinyint(1) DEFAULT 1, `notify_conversations` tinyint(1) DEFAULT 1, `notify_tasks` tinyint(1) DEFAULT 1, `avatar_file_name` varchar(255), `avatar_content_type` varchar(255), `avatar_file_size` int(11), `invited_by_id` int(11), `invited_count` int(11) DEFAULT 0 NOT NULL, `created_at` datetime, `updated_at` datetime, `wants_task_reminder` tinyint(1) DEFAULT 1, `recent_projects_ids` text, `feature_level` varchar(255) DEFAULT '', `spreedly_token` varchar(255) DEFAULT '', `avatar_updated_at` datetime, `visited_at` datetime, `betatester` tinyint(1) DEFAULT 0, `splash_screen` tinyint(1) DEFAULT 0, `assigned_tasks_count` int(11), `completed_tasks_count` int(11), `deleted` tinyint(1) DEFAULT 0 NOT NULL, `settings` text, `digest_delivery_hour` int(11) DEFAULT 9, `instant_notification_on_mention` tinyint(1) DEFAULT 1, `default_digest` int(11) DEFAULT 0, `default_watch_new_task` tinyint(1) DEFAULT 0, `default_watch_new_conversation` tinyint(1) DEFAULT 0, `default_watch_new_page` tinyint(1) DEFAULT 0, `notify_pages` tinyint(1) DEFAULT 0, `google_calendar_url_token` varchar(255), `auto_accept_invites` tinyint(1) DEFAULT 1) ENGINE=InnoDB
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `users`[0m
  [1m[35mSQL (260.0ms)[0m  CREATE INDEX `index_users_on_deleted` ON `users` (`deleted`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `users`[0m
  [1m[35mSQL (275.2ms)[0m  CREATE INDEX `index_users_on_email_and_deleted_and_updated_at` ON `users` (`email`, `deleted`, `updated_at`)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW KEYS FROM `users`[0m
  [1m[35mSQL (250.0ms)[0m  CREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.9ms)[0m  SHOW TABLES
  [1m[36mSQL (130.3ms)[0m  [1mCREATE TABLE `versions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `versioned_id` int(11), `versioned_type` varchar(255), `user_id` int(11), `user_type` varchar(255), `user_name` varchar(255), `modifications` text, `number` int(11), `tag` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `versions`
  [1m[36mSQL (250.5ms)[0m  [1mCREATE INDEX `index_versions_on_created_at` ON `versions` (`created_at`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `versions`
  [1m[36mSQL (293.2ms)[0m  [1mCREATE INDEX `index_versions_on_number` ON `versions` (`number`)[0m
  [1m[35mSQL (0.6ms)[0m  SHOW KEYS FROM `versions`
  [1m[36mSQL (258.8ms)[0m  [1mCREATE INDEX `index_versions_on_tag` ON `versions` (`tag`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `versions`
  [1m[36mSQL (250.2ms)[0m  [1mCREATE INDEX `index_versions_on_user_id_and_user_type` ON `versions` (`user_id`, `user_type`)[0m
  [1m[35mSQL (0.7ms)[0m  SHOW KEYS FROM `versions`
  [1m[36mSQL (250.4ms)[0m  [1mCREATE INDEX `index_versions_on_user_name` ON `versions` (`user_name`)[0m
  [1m[35mSQL (0.8ms)[0m  SHOW KEYS FROM `versions`
  [1m[36mSQL (258.3ms)[0m  [1mCREATE INDEX `index_versions_on_versioned_id_and_versioned_type` ON `versions` (`versioned_id`, `versioned_type`)[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (173.1ms)[0m  CREATE TABLE `watchers` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `project_id` int(11), `watchable_id` int(11), `watchable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `watchers`[0m
  [1m[35mSQL (250.5ms)[0m  CREATE UNIQUE INDEX `uniqueness_index` ON `watchers` (`user_id`, `watchable_id`, `watchable_type`)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `watchers`[0m
  [1m[35mSQL (250.3ms)[0m  CREATE UNIQUE INDEX `watchers_uniqueness_index` ON `watchers` (`user_id`, `watchable_id`, `watchable_type`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `watchers`[0m
  [1m[35mSQL (275.2ms)[0m  CREATE INDEX `index_watchers_on_user_id` ON `watchers` (`user_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `watchers`[0m
  [1m[35mSQL (266.7ms)[0m  CREATE INDEX `index_watchers_on_watchable_id` ON `watchers` (`watchable_id`)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW KEYS FROM `watchers`[0m
  [1m[35mSQL (318.3ms)[0m  CREATE INDEX `index_watchers_on_watchable_type` ON `watchers` (`watchable_type`)
  [1m[36mSQL (1.1ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (121.6ms)[0m  [1mCREATE TABLE `websites` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `card_id` int(11), `name` varchar(255), `account_type` int(11) DEFAULT 0) ENGINE=InnoDB[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TABLES
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (122.6ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36mSQL (0.5ms)[0m  [1mSHOW KEYS FROM `schema_migrations`[0m
  [1m[35mSQL (217.4ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.0ms)[0m  SHOW TABLES
  [1m[36mSQL (0.4ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35mSQL (43.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110902112234')
  [1m[36mSQL (58.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110212184746')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110725155921')
  [1m[36mSQL (41.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110211173002')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110826144729')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110622145207')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110623083525')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100818185843')[0m
  [1m[35mSQL (50.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100817104609')
  [1m[36mSQL (49.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100727153714')[0m
  [1m[35mSQL (50.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100901153649')
  [1m[36mSQL (49.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100815175602')[0m
  [1m[35mSQL (49.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100521093855')
  [1m[36mSQL (42.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100826150615')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110831142330')
  [1m[36mSQL (41.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100817111219')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110404210516')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101208193430')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100511133109')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100429222246')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110301182608')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110618072022')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110517231302')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101102171602')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110317144743')
  [1m[36mSQL (41.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110524125342')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110307185353')
  [1m[36mSQL (41.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101102171331')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20101112132101')
  [1m[36mSQL (41.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110622151731')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110622154231')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100807200706')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20101215175148')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100613181634')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110516120900')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100729134941')[0m
  [1m[35mSQL (41.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110602230212')
  [1m[36mSQL (41.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110404233401')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110228182657')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100808122052')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110301195721')
  [1m[36mSQL (41.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110117211601')[0m
  [1m[35mSQL (41.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110117210422')
  [1m[36mSQL (49.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100505055336')[0m
  [1m[35mSQL (49.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110511060055')
  [1m[36mSQL (50.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110228211014')[0m
  [1m[35mSQL (49.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110620141747')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100429210031')[0m
  [1m[35mSQL (49.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20101109112722')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110418210553')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20101220141905')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110818091722')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100808072052')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101115162241')[0m
  [1m[35mSQL (42.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110812101537')
  [1m[36mSQL (41.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110321095245')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110307204107')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100614131154')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100802115606')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100714113347')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110511003051')
  [1m[36mSQL (41.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101026091837')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110324153051')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101013172028')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100903152418')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110812102452')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110722194606')
  [1m[36mSQL (41.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110325195500')[0m
  [1m[35mSQL (41.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110107120943')
  [1m[36mSQL (41.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101121194455')[0m
  [1m[35mSQL (108.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110125200118')
  [1m[36mSQL (63.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110517003032')[0m
  [1m[35mSQL (69.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110308160737')
  [1m[36mSQL (99.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110808082545')[0m
  [1m[35mSQL (50.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110523122936')
  [1m[36mSQL (141.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101117103529')[0m
  [1m[35mSQL (99.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20101123155108')
  [1m[36mSQL (83.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101014112847')[0m
  [1m[35mSQL (41.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20101130163336')
  [1m[36mSQL (41.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20100802193633')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20110303172637')
  [1m[36mSQL (41.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20110622155452')[0m
  [1m[35mSQL (41.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20100916140725')
  [1m[36mSQL (41.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20101124111325')[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Sun Feb 05 14:34:37 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 30ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 14:34:38 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
Rendered sessions/configure_your_deployment.haml within layouts/sessions (679.6ms)
Completed 200 OK in 711ms (Views: 703.9ms | ActiveRecord: 0.7ms | Sphinx: 0.0ms)


Started GET "/sprockets/public.js" for 127.0.0.1 at Sun Feb 05 14:34:40 +0800 2012
  Processing by SprocketsController#show as JS
  Parameters: {"id"=>"public"}
Rendered text template (0.3ms)
Completed 200 OK in 1130ms (Views: 22.3ms | ActiveRecord: 0.4ms | Sphinx: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Sun Feb 05 14:34:48 +0800 2012
  Processing by UsersController#new as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_new.haml (1487.2ms)
Rendered users/new.haml within layouts/sessions (1652.0ms)
Completed 200 OK in 1713ms (Views: 1704.3ms | ActiveRecord: 0.2ms | Sphinx: 0.0ms)


Started POST "/users" for 127.0.0.1 at Sun Feb 05 14:36:31 +0800 2012
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "commit"=>"创建帐号", "authenticity_token"=>"da0vv/SMKlx7vY334GAhoa/Dj20Q5Jz4lmb91x3qbtA=", "user"=>{"card_attributes"=>{"phone_numbers_attributes"=>{"0"=>{"name"=>""}}}, "organization"=>{"name"=>""}, "locale"=>"zh", "time_zone"=>"Beijing", "last_name"=>"文静", "login"=>"0612800232", "email"=>"liwenjingabc@gmail.com", "password"=>"[FILTERED]", "first_name"=>"李", "password_confirmation"=>"[FILTERED]"}}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
WARNING: Can't mass-assign protected attributes: organization
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`login`) = LOWER('0612800232')) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('liwenjingabc@gmail.com')) LIMIT 1[0m
  [1m[35mInvitation Load (0.4ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`email` = 'liwenjingabc@gmail.com' AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `users`[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO `users` (`settings`, `visited_at`, `created_at`, `deleted`, `crypted_password`, `notify_tasks`, `invited_by_id`, `auto_accept_invites`, `completed_tasks_count`, `remember_token_expires_at`, `rss_token`, `default_watch_new_page`, `splash_screen`, `notify_conversations`, `avatar_file_size`, `avatar_content_type`, `email`, `avatar_updated_at`, `recent_projects_ids`, `avatar_file_name`, `biography`, `locale`, `default_watch_new_task`, `comments_count`, `updated_at`, `invitations_count`, `login`, `time_zone`, `confirmed_user`, `first_name`, `wants_task_reminder`, `last_name`, `notify_mentions`, `instant_notification_on_mention`, `betatester`, `assigned_tasks_count`, `default_watch_new_conversation`, `feature_level`, `spreedly_token`, `admin`, `default_digest`, `notify_pages`, `login_token`, `remember_token`, `login_token_expires_at`, `digest_delivery_hour`, `invited_count`, `first_day_of_week`, `salt`, `google_calendar_url_token`) VALUES (NULL, '2012-02-05 06:36:32', '2012-02-05 06:36:33', 0, 'ebb2e5735b220110b68c9445be347c0cf013cddc', 1, NULL, 1, NULL, NULL, '2c93164d1f72f30d2d0a344bf226e71b27d68aae', 0, 1, 1, NULL, NULL, 'liwenjingabc@gmail.com', NULL, '--- []\n\n', NULL, NULL, 'zh', 0, 0, '2012-02-05 06:36:33', 0, '0612800232', 'Beijing', 0, '李', 1, '文静', 1, 1, 0, NULL, 0, '', '', 0, 0, 0, NULL, NULL, NULL, 9, 0, 'sunday', '8152f91eebaa4cd1e402e7f3e342e3fd147d79db', NULL)
  [1m[36mAREL (0.5ms)[0m  [1mUPDATE `users` SET `visited_at` = '2012-02-05 06:36:32', `created_at` = '2012-02-05 06:36:33', `crypted_password` = 'ebb2e5735b220110b68c9445be347c0cf013cddc', `rss_token` = '2c93164d1f72f30d2d0a344bf226e71b27d68aae', `splash_screen` = 1, `email` = 'liwenjingabc@gmail.com', `recent_projects_ids` = '--- []\n\n', `locale` = 'zh', `updated_at` = '2012-02-05 06:36:33', `login` = '0612800232', `time_zone` = 'Beijing', `first_name` = '李', `last_name` = '文静', `login_token` = '43453d08ad5de62564f13a8024b2edc8a67b1fef', `login_token_expires_at` = '2012-03-05 06:36:33', `salt` = '8152f91eebaa4cd1e402e7f3e342e3fd147d79db' WHERE `users`.`id` = 1[0m
FRAGMENT CACHE: Expiring people fragment for the user 0612800232
  [1m[35mProject Load (0.5ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
[paperclip] Saving attachments.
  [1m[36mSQL (0.4ms)[0m  [1mdescribe `cards`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `cards` (`public`, `user_id`) VALUES (0, 1)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (2.1ms)
Rendered emailer/confirm_email.html.haml (17.5ms)
Rendered emailer/_dont_answer.text.erb (0.6ms)
Rendered emailer/confirm_email.text.erb (3.3ms)

Sent mail to liwenjingabc@gmail.com (45ms)
Date: Sun, 05 Feb 2012 14:36:33 +0800
From: Teambox <no-reply@domain.com>
To: liwenjingabc@gmail.com
Message-ID: <4f2e237162efe_b0f24de2f8051851@lee-laptop.mail>
Subject: Get started with Teambox
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f2e237157d41_b0f24de2f805156b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f2e237157d41_b0f24de2f805156b
Date: Sun, 05 Feb 2012 14:36:33 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2e23715d12b_b0f24de2f805165b@lee-laptop.mail>

// Do not reply to this email.


Hey, =E6=9D=8E =E6=96=87=E9=9D=99!


In order to complete your signup for Teambox, we need you to log in by cl=
icking here:

http://localhost:3000/users/0612800232/confirm_email?token=3D43453d08ad5d=
e62564f13a8024b2edc8a67b1fef


You received this message because you signed up for a Teambox account wit=
h liwenjingabc@gmail.com
If you have any problems, please contact us at http://help.teambox.com


----==_mimepart_4f2e237157d41_b0f24de2f805156b
Date: Sun, 05 Feb 2012 14:36:33 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2e237160516_b0f24de2f8051748@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Hey, =E6=9D=8E =E6=96=87=E9=9D=99!</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>In order to <b>complete your signup</b> for Teambox, we need you t=
o log in by clicking here:</p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/0612800232/confirm_email?tok=
en=3D43453d08ad5de62564f13a8024b2edc8a67b1fef">Log into Teambox now!</a>
    </h2>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If this doesn't work, copy and paste the following link in your brows=
er's bar:
    <br>
    <a href=3D"http://localhost:3000/users/0612800232/confirm_email?token=
=3D43453d08ad5de62564f13a8024b2edc8a67b1fef">http://localhost:3000/users/=
0612800232/confirm_email?token=3D43453d08ad5de62564f13a8024b2edc8a67b1fef=
</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>You received this message because you signed up for a Teambox acco=
unt with liwenjingabc@gmail.com</p>
    <p>If you have any problems, please contact us at http://help.teambox=
.com</p>
  </div>
</div>


----==_mimepart_4f2e237157d41_b0f24de2f805156b--
  [1m[35mInvitation Load (0.3ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`email` = 'liwenjingabc@gmail.com' AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0))
[paperclip] Saving attachments.
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE `users` SET `recent_projects_ids` = '--- []\n\n' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (74.5ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 642ms


Started GET "/" for 127.0.0.1 at Sun Feb 05 14:36:33 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mProject Load (0.6ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mOrganization Load (0.4ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.5ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (NULL)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered projects/fields/_new.html.haml (34.8ms)
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.3ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (6.8ms)
Rendered shared/_confirm_email.haml (9.2ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (7.7ms)
Rendered shared/_header.html.haml (15.9ms)
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
Rendered shared/_navigation.html.haml (188.8ms)
Rendered shared/_footer.haml (4.0ms)
Rendered projects/new.html.haml within layouts/application (397.1ms)
Completed 200 OK in 1138ms (Views: 429.1ms | ActiveRecord: 5.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:36:36 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Sun Feb 05 14:36:38 +0800 2012
  Processing by SprocketsController#index as JS
Rendered text template (0.5ms)
Completed 200 OK in 2007ms (Views: 2.7ms | ActiveRecord: 0.1ms | Sphinx: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m


Started GET "/users/0612800232/unconfirmed_email?resend=true" for 127.0.0.1 at Sun Feb 05 14:40:24 +0800 2012
  Processing by UsersController#unconfirmed_email as HTML
  Parameters: {"resend"=>"true", "id"=>"0612800232"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `login_token` = 'da186cfe161010eddeb22fffa8659e370a267351', `login_token_expires_at` = '2012-03-05 06:40:25', `recent_projects_ids` = '--- []\n\n', `updated_at` = '2012-02-05 06:40:25' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (384.8ms)[0m  COMMIT
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (6.1ms)
Rendered emailer/confirm_email.html.haml (15.4ms)
Rendered emailer/_dont_answer.text.erb (0.6ms)
Rendered emailer/confirm_email.text.erb (3.2ms)

Sent mail to liwenjingabc@gmail.com (45ms)
Date: Sun, 05 Feb 2012 14:40:25 +0800
From: Teambox <no-reply@gmail.com>
To: liwenjingabc@gmail.com
Message-ID: <4f2e2459dec20_b9f24e7d0f8499c9@lee-laptop.mail>
Subject: Get started with Teambox
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f2e2459d3817_b9f24e7d0f8496db";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f2e2459d3817_b9f24e7d0f8496db
Date: Sun, 05 Feb 2012 14:40:25 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2e2459d916a_b9f24e7d0f8497b4@lee-laptop.mail>

// Do not reply to this email.


Hey, =E6=9D=8E =E6=96=87=E9=9D=99!


In order to complete your signup for Teambox, we need you to log in by cl=
icking here:

http://localhost:3000/users/0612800232/confirm_email?token=3Dda186cfe1610=
10eddeb22fffa8659e370a267351


You received this message because you signed up for a Teambox account wit=
h liwenjingabc@gmail.com
If you have any problems, please contact us at http://help.teambox.com


----==_mimepart_4f2e2459d3817_b9f24e7d0f8496db
Date: Sun, 05 Feb 2012 14:40:25 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2e2459dc4c3_b9f24e7d0f84988e@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Hey, =E6=9D=8E =E6=96=87=E9=9D=99!</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>In order to <b>complete your signup</b> for Teambox, we need you t=
o log in by clicking here:</p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/0612800232/confirm_email?tok=
en=3Dda186cfe161010eddeb22fffa8659e370a267351">Log into Teambox now!</a>
    </h2>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If this doesn't work, copy and paste the following link in your brows=
er's bar:
    <br>
    <a href=3D"http://localhost:3000/users/0612800232/confirm_email?token=
=3Dda186cfe161010eddeb22fffa8659e370a267351">http://localhost:3000/users/=
0612800232/confirm_email?token=3Dda186cfe161010eddeb22fffa8659e370a267351=
</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>You received this message because you signed up for a Teambox acco=
unt with liwenjingabc@gmail.com</p>
    <p>If you have any problems, please contact us at http://help.teambox=
.com</p>
  </div>
</div>


----==_mimepart_4f2e2459d3817_b9f24e7d0f8496db--
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (155.0ms)
Rendered shared/_confirm_email.haml (6.4ms)
Rendered shared/_search_bar.haml (2.5ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (28.8ms)
Rendered shared/_header.html.haml (37.4ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
Rendered shared/_navigation.html.haml (23.0ms)
Rendered shared/_footer.haml (4.0ms)
Rendered users/unconfirmed_email.haml within layouts/application (382.1ms)
Completed 200 OK in 1204ms (Views: 452.7ms | ActiveRecord: 387.2ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:40:26 +0800 2012


Started GET "/users/0612800232/confirm_email?tok=en=3Dda186cfe161010eddeb22fffa8659e370a267351" for 127.0.0.1 at Sun Feb 05 14:42:00 +0800 2012
  Processing by UsersController#confirm_email as HTML
  Parameters: {"id"=>"0612800232", "tok"=>"en=3Dda186cfe161010eddeb22fffa8659e370a267351"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE `users` SET `recent_projects_ids` = '--- []\n\n' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (48.8ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 116ms


Started GET "/" for 127.0.0.1 at Sun Feb 05 14:42:02 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 14:42:04 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered shared/_upgrade_browser.haml (8.2ms)
Rendered shared/_chrome_frame.html.haml (3.4ms)
Rendered sessions/_fields.haml (4.8ms)
Rendered sessions/new.haml within layouts/sessions (43.4ms)
Completed 200 OK in 113ms (Views: 64.2ms | ActiveRecord: 1.4ms | Sphinx: 0.0ms)


Started POST "/session" for 127.0.0.1 at Sun Feb 05 14:42:39 +0800 2012
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "login"=>"0612800232", "commit"=>"登录", "password"=>"[FILTERED]", "authenticity_token"=>"da0vv/SMKlx7vY334GAhoa/Dj20Q5Jz4lmb91x3qbtA="}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `remember_token_expires_at` = '2012-02-19 06:42:40', `recent_projects_ids` = '--- []\n\n', `remember_token` = '83daa821ad4dce3aee3d018439a724f535184aa6', `updated_at` = '2012-02-05 06:42:40' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (62.2ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 251ms


Started GET "/" for 127.0.0.1 at Sun Feb 05 14:42:41 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (NULL)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered projects/fields/_new.html.haml (22.8ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.2ms)
Rendered shared/_confirm_email.haml (5.3ms)
Rendered shared/_search_bar.haml (2.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (6.9ms)
Rendered shared/_header.html.haml (14.2ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
Rendered shared/_navigation.html.haml (24.5ms)
Rendered shared/_footer.haml (3.4ms)
Rendered projects/new.html.haml within layouts/application (289.0ms)
Completed 200 OK in 890ms (Views: 300.5ms | ActiveRecord: 4.1ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:42:43 +0800 2012


Started POST "/projects" for 127.0.0.1 at Sun Feb 05 14:43:15 +0800 2012
  Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "project"=>{"name"=>"test", "organization_attributes"=>{"name"=>"13"}, "public"=>"1", "tracks_time"=>"1"}, "authenticity_token"=>"da0vv/SMKlx7vY334GAhoa/Dj20Q5Jz4lmb91x3qbtA="}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM `projects` WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND (permalink = 'test') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM `projects` WHERE `projects`.`deleted` = 0 AND (LOWER(`projects`.`permalink`) = LOWER('test')) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND (permalink = 'organization-13') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `organizations` WHERE `organizations`.`deleted` = 0 AND (LOWER(`organizations`.`permalink`) = LOWER('organization-13')) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0))
  [1m[36mSQL (0.7ms)[0m  [1mdescribe `organizations`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `organizations` (`deleted`, `language`, `permalink`, `updated_at`, `logo_file_name`, `logo_content_type`, `name`, `domain`, `settings`, `time_zone`, `description`, `created_at`, `logo_file_size`) VALUES (0, 'en', 'organization-13', '2012-02-05 06:43:18', NULL, NULL, '13', NULL, NULL, 'Eastern Time (US & Canada)', NULL, '2012-02-05 06:43:18', NULL)
[paperclip] Saving attachments.
  [1m[36mSQL (0.7ms)[0m  [1mdescribe `projects`[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO `projects` (`archived`, `comments_count`, `user_id`, `updated_at`, `tracks_time`, `public`, `created_at`, `last_comment_id`, `organization_id`, `deleted`, `name`, `permalink`) VALUES (0, 0, 1, '2012-02-05 06:43:18', 1, 1, '2012-02-05 06:43:18', NULL, 1, 0, 'test', 'test')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mPerson Load (0.3ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND `people`.`project_id` = 1 LIMIT 1
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM `people` WHERE `people`.`user_id` = 1 AND (`people`.`project_id` = 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mdescribe `people`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `people` (`last_digest_delivery`, `created_at`, `deleted`, `source_user_id`, `project_id`, `next_digest_delivery`, `updated_at`, `watch_new_conversation`, `watch_new_page`, `digest`, `user_id`, `watch_new_task`, `permissions`, `role`) VALUES ('2012-02-05 06:43:18', '2012-02-05 06:43:18', 0, NULL, 1, '2012-02-05 06:43:18', '2012-02-05 06:43:18', 0, 0, 0, 1, 0, NULL, 2)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE `people` SET `last_digest_delivery` = '2012-02-05 06:43:18', `created_at` = '2012-02-05 06:43:18', `project_id` = 1, `next_digest_delivery` = '2012-02-05 06:43:18', `updated_at` = '2012-02-05 06:43:18', `user_id` = 1, `permissions` = NULL, `role` = 3 WHERE `people`.`id` = 1
FRAGMENT CACHE: Enqueueing expire job: people fragment for the project test
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT user_id FROM `people` WHERE `people`.`project_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.7ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.4ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
FRAGMENT CACHE: Enqueueing expire job: people fragment for the project test
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT user_id FROM `people` WHERE `people`.`project_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.5ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
  [1m[36mSQL (0.6ms)[0m  [1mdescribe `activities`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `activities` (`comment_target_type`, `is_private`, `project_id`, `last_activity_id`, `deleted`, `user_id`, `created_at`, `action`, `updated_at`, `comment_target_id`, `target_id`, `target_type`) VALUES (NULL, 0, 1, NULL, 0, 1, '2012-02-05 06:43:18', 'create', '2012-02-05 06:43:18', NULL, 1, 'Project')
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE `activities` SET `project_id` = 1, `last_activity_id` = 1, `user_id` = 1, `created_at` = '2012-02-05 06:43:18', `action` = 'create', `updated_at` = '2012-02-05 06:43:18', `target_id` = 1, `target_type` = 'Project' WHERE `activities`.`id` = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE (`memberships`.organization_id = 1)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `projects` WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND (`projects`.organization_id = 1)[0m
  [1m[35mMembership Load (0.3ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mOrganization Load (0.4ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `memberships` WHERE `memberships`.`organization_id` = 1 AND (`memberships`.`user_id` = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  describe `memberships`
  [1m[36mAREL (5.7ms)[0m  [1mINSERT INTO `memberships` (`updated_at`, `user_id`, `created_at`, `organization_id`, `role`) VALUES ('2012-02-05 06:43:18', 1, '2012-02-05 06:43:18', 1, 30)[0m
FRAGMENT CACHE: Expiring json_organizations for organization organization-13
  [1m[35mUser Load (1.6ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `memberships` ON `users`.id = `memberships`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`memberships`.organization_id = 1)) ORDER BY users.updated_at DESC
  [1m[36mMembership Load (0.3ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `settings` = '{\"stats\":{\"projects\":1}}' WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mSQL (87.4ms)[0m  [1mCOMMIT[0m
  [1m[35mProject Load (0.5ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/invite_people
Completed 302 Found in 830ms


Started GET "/projects/test/invite_people" for 127.0.0.1 at Sun Feb 05 14:43:18 +0800 2012
  Processing by ProjectsController#invite_people as HTML
  Parameters: {"project_id"=>"test"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.4ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `recent_projects_ids` = '--- \n- 1\n' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (44.3ms)[0m  COMMIT
  [1m[36mOrganization Load (0.5ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.3ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mOrganization Load (0.3ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT `projects`.id FROM `projects` WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND (`projects`.organization_id = 1)
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT distinct users.* FROM `users` INNER JOIN `people` ON `people`.`user_id` = `users`.`id` WHERE `people`.`project_id` IN (1) AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC[0m
Rendered invitations/_select_language.haml (9.9ms)
  [1m[35mPerson Load (0.4ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.5ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.4ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (3.9ms)
Rendered shared/_confirm_email.haml (5.4ms)
Rendered shared/_search_bar.haml (1.9ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (26.7ms)
Rendered shared/_header.html.haml (33.9ms)
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.5ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (187.3ms)
Rendered shared/_footer.haml (3.6ms)
  [1m[36mProject Load (0.6ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.4ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered projects/invite_people.haml within layouts/application (329.3ms)
Completed 200 OK in 672ms (Views: 353.5ms | ActiveRecord: 53.6ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:43:21 +0800 2012


Started POST "/account/badge/first_project/grant" for 127.0.0.1 at Sun Feb 05 14:43:23 +0800 2012
  Processing by UsersController#grant_badge as JS
  Parameters: {"badge"=>"first_project"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1[0m
  [1m[35mAREL (49.3ms)[0m  UPDATE `users` SET `settings` = '{\"stats\":{\"projects\":1},\"badges\":[\"first_project\"]}' WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
Completed 200 OK in 121ms


Started POST "/projects/test/invite_people" for 127.0.0.1 at Sun Feb 05 14:44:04 +0800 2012
  Processing by ProjectsController#send_invites as HTML
  Parameters: {"utf8"=>"✓", "locale"=>"zh", "project_id"=>"test", "project"=>{"invite_role"=>"3", "invite_emails"=>"690294000@qq.com"}, "authenticity_token"=>"da0vv/SMKlx7vY334GAhoa/Dj20Q5Jz4lmb91x3qbtA="}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.2ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1[0m
  [1m[35mPerson Load (0.4ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`email` = '690294000@qq.com' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `invitations` WHERE `invitations`.`email` = '690294000@qq.com' AND `invitations`.`project_id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mdescribe `invitations`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `invitations` (`user_id`, `updated_at`, `email`, `membership`, `deleted`, `role`, `project_id`, `invited_user_id`, `token`, `created_at`) VALUES (1, '2012-02-05 06:44:07', '690294000@qq.com', 10, 0, 3, 1, NULL, 'adfded87ba1306095f1c6c55456a7d31a1006110', '2012-02-05 06:44:07')
  [1m[36mInvitation Load (0.3ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (1.9ms)
  [1m[35mInvitation Load (0.4ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (20.9ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.5ms)

Sent mail to 690294000@qq.com (24ms)
Date: Sun, 05 Feb 2012 14:44:07 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: 690294000@qq.com
Message-ID: <4f2e253770299_b9f25308ec450341@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f2e253743dc2_b9f25308ec4500dc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f2e253743dc2_b9f25308ec4500dc
Date: Sun, 05 Feb 2012 14:44:07 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64
Content-ID: <4f2e25376dc8a_b9f25308ec4501b7@lee-laptop.mail>

Ly8g6K+35LiN6KaB5Zue5aSN5q2k6YKu5Lu244CCCgoKVGVhbWJveOaYr+S4
gOS4queUqOS6juecn+WunuS4lueVjOWNj+S9nOeahOmhueebrueuoeeQhuW5
s+WPsOOAggrorqHliJLvvIzliIbkuqvlkozot5/ouKrpnIDopoHlgZrnmoTl
t6XkvZzjgILotrPlpJ/nroDljZXjgIIKCuadjiDmlofpnZnluIzmnJvpgJro
v4dUZWFtYm945LiO5oKo5Y2P5L2c77yaCuaCqOW3sue7j+iiq+mCgOivt+WK
oOWFpemhueebriZsdDtiJmd0O3Rlc3QmbHQ7L2ImZ3Q7CgoK5o6l5Y+X6YKA
6K+35byA5aeL5Y2P5L2cOgoKaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJz
L25ldz9pbnZpdGF0aW9uPWFkZmRlZDg3YmExMzA2MDk1ZjFjNmM1NTQ1NmE3
ZDMxYTEwMDYxMTAKCgrmraTpobnnm67kuK3nmoTlvZPliY3nlKjmiLfliJfo
oajvvJo6IOadjiDmlofpnZkKCuatpOmCruS7tuW6lOaCqOeahOaci+WPi+im
geaxguiAjOWPkemAgee7meaCqOOAguWmguaciea7peeUqOivt+WPiuaXtuaK
peWRiuOAggo=


----==_mimepart_4f2e253743dc2_b9f25308ec4500dc
Date: Sun, 05 Feb 2012 14:44:07 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: base64
Content-ID: <4f2e25376f079_b9f25308ec450223@lee-laptop.mail>

PGRpdiBjbGFzcz0nZW1haWwnIHN0eWxlPSdmb250LXNpemU6IDE0cHg7IGNv
bG9yOiByZ2IoNTAsNTAsNTApOyBmb250LWZhbWlseTogSGVsdmV0aWNhLCBB
cmlhbDsgbWFyZ2luOiAyMHB4IDAnPgogIDxwIHN0eWxlPSdmb250LXNpemU6
IDEwcHg7IGNvbG9yOiByZ2IoMTAwLDEwMCwxMDApOyc+CiAgICDor7fkuI3o
poHlm57lpI3mraTpgq7ku7bjgIIKICA8L3A+CiAgPHA+VGVhbWJveOaYr+S4
gOS4queUqOS6juecn+WunuS4lueVjOWNj+S9nOeahOmhueebrueuoeeQhuW5
s+WPsOOAgjwvcD4KICA8cD7orqHliJLvvIzliIbkuqvlkozot5/ouKrpnIDo
poHlgZrnmoTlt6XkvZzjgILotrPlpJ/nroDljZXjgII8L3A+CiAgPGRpdiBj
bGFzcz0nYm94JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwy
NTUsMjIwKTsgYm9yZGVyOiAxcHggcmdiKDIyMCwyMjAsMTUwKSBzb2xpZDtw
YWRkaW5nOiA1cHggMTBweDsgbWFyZ2luOiAyMHB4IDA7Jz4KICAgIDxwPuad
jiDmlofpnZnluIzmnJvpgJrov4dUZWFtYm945LiO5oKo5Y2P5L2c77yaPC9w
PgogICAgPHAgc3R5bGU9J2ZvbnQtc2l6ZTogMThweDsgY29sb3I6IHJnYigw
LDAsMCk7Jz4KICAgICAg5oKo5bey57uP6KKr6YKA6K+35Yqg5YWl6aG555uu
PGI+PGI+dGVzdDwvYj48L2I+CiAgICA8L3A+CiAgICA8aDIgc3R5bGU9J2Zv
bnQtc2l6ZTogMThweDsgY29sb3I6IHJnYigwLDAsMCk7Jz4KICAgICAgPGEg
aHJlZj0iaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL25ldz9pbnZpdGF0
aW9uPWFkZmRlZDg3YmExMzA2MDk1ZjFjNmM1NTQ1NmE3ZDMxYTEwMDYxMTAi
PuaOpeWPl+mCgOivt+W8gOWni+WNj+S9nDwvYT4KICAgIDwvaDI+CiAgICA8
cD4KICAgICAgPHN0cm9uZz4KICAgICAgICDmraTpobnnm67kuK3nmoTlvZPl
iY3nlKjmiLfliJfooajvvJoKICAgICAgPC9zdHJvbmc+CiAgICAgIOadjiDm
lofpnZkKICAgIDwvcD4KICA8L2Rpdj4KICA8cCBzdHlsZT0nZm9udC1zaXpl
OiAxMHB4OyBjb2xvcjogcmdiKDEwMCwxMDAsMTAwKTsnPgogICAg5aaC5p6c
5Lul5LiK6ZO+5o6l5LiN6IO95bel5L2c77yM5aSN5Yi25bm257KY6LS05Lul
5LiL5Luj56CB5Yiw5oKo55qE5rWP6KeI5Zmo5Zyw5Z2A5qCP77yaCiAgICA8
YnI+CiAgICA8YSBocmVmPSJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMv
bmV3P2ludml0YXRpb249YWRmZGVkODdiYTEzMDYwOTVmMWM2YzU1NDU2YTdk
MzFhMTAwNjExMCI+aHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL25ldz9p
bnZpdGF0aW9uPWFkZmRlZDg3YmExMzA2MDk1ZjFjNmM1NTQ1NmE3ZDMxYTEw
MDYxMTA8L2E+CiAgPC9wPgogIDxkaXYgY2xhc3M9J2Zvb3Rlcicgc3R5bGU9
J2ZvbnQtc2l6ZTogMTBweDsgY29sb3I6IHJnYigxMDAsMTAwLDEwMCk7Jz4K
ICAgIDxwPuatpOmCruS7tuW6lOaCqOeahOaci+WPi+imgeaxguiAjOWPkemA
gee7meaCqOOAguWmguaciea7peeUqOivt+WPiuaXtuaKpeWRiuOAgjwvcD4K
ICA8L2Rpdj4KPC9kaXY+Cg==


----==_mimepart_4f2e253743dc2_b9f25308ec4500dc--
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `settings` = '{\"stats\":{\"invites\":1,\"projects\":1},\"badges\":[\"first_project\"]}' WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mSQL (45.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/projects/test
Completed 302 Found in 1031ms


Started GET "/projects/test" for 127.0.0.1 at Sun Feb 05 14:44:07 +0800 2012
  Processing by ProjectsController#show as HTML
  Parameters: {"id"=>"test"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mActivity Load (72.8ms)[0m  [1mSELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (activities.is_private = 0 OR (activities.is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mConversation Load (0.4ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`simple` = 0 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) AND (`conversations`.project_id = 1) ORDER BY id DESC, updated_at desc LIMIT 4
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered google_docs/_form.haml (40.6ms)
Rendered comments/_fields.haml (85.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered activities/_create_project.haml (164.5ms)
Rendered activities/_show_more.haml (3.1ms)
Rendered projects/_new_project_suggestions.haml (13.9ms)
Rendered shared/_collapse.haml (3.0ms)
Rendered projects/_recent_conversations.haml (4.6ms)
  [1m[35mPage Load (0.4ms)[0m  SELECT `pages`.* FROM `pages` WHERE ((`pages`.`deleted` IS NULL OR `pages`.`deleted` = 0)) AND (`pages`.project_id = 1) ORDER BY position ASC, created_at DESC, id DESC
Rendered projects/_pages.haml (5.6ms)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC, users.first_name ASC[0m
Rendered users/_status.haml (7.2ms)
Rendered projects/_people_list.haml (34.6ms)
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT 1 FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT `people`.* FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (2.3ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.2ms)
Rendered shared/_confirm_email.haml (166.0ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (7.9ms)
Rendered shared/_header.html.haml (16.3ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (23.6ms)
Rendered shared/_footer.haml (3.6ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.5ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered projects/show.haml within layouts/application (1429.6ms)
Completed 200 OK in 1838ms (Views: 1612.0ms | ActiveRecord: 82.0ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:44:11 +0800 2012


Started POST "/account/badge/first_invite/grant" for 127.0.0.1 at Sun Feb 05 14:44:13 +0800 2012
  Processing by UsersController#grant_badge as JS
  Parameters: {"badge"=>"first_invite"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1[0m
  [1m[35mAREL (57.8ms)[0m  UPDATE `users` SET `settings` = '{\"stats\":{\"invites\":1,\"projects\":1},\"badges\":[\"first_project\",\"first_invite\"]}' WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
Completed 200 OK in 289ms


Started GET "/projects/test" for 127.0.0.1 at Sun Feb 05 14:44:24 +0800 2012
  Processing by ProjectsController#show as HTML
  Parameters: {"id"=>"test"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1[0m
  [1m[35mActivity Load (0.2ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (activities.is_private = 0 OR (activities.is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`simple` = 0 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) AND (`conversations`.project_id = 1) ORDER BY id DESC, updated_at desc LIMIT 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered google_docs/_form.haml (185.5ms)
Rendered comments/_fields.haml (224.0ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (11.3ms)
Rendered activities/_show_more.haml (3.3ms)
Rendered projects/_new_project_suggestions.haml (9.5ms)
Rendered shared/_collapse.haml (2.6ms)
Rendered projects/_recent_conversations.haml (4.6ms)
  [1m[36mPage Load (0.1ms)[0m  [1mSELECT `pages`.* FROM `pages` WHERE ((`pages`.`deleted` IS NULL OR `pages`.`deleted` = 0)) AND (`pages`.project_id = 1) ORDER BY position ASC, created_at DESC, id DESC[0m
Rendered projects/_pages.haml (5.0ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC, users.first_name ASC
Rendered users/_status.haml (5.9ms)
Rendered projects/_people_list.haml (24.3ms)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT 1 FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (174.8ms)
Rendered shared/_confirm_email.haml (6.0ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.6ms)
Rendered shared/_header.html.haml (15.9ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (23.4ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/show.haml within layouts/application (1332.0ms)
Completed 200 OK in 1646ms (Views: 1339.7ms | ActiveRecord: 5.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:44:28 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Sun Feb 05 14:44:30 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 784ms


Started GET "/organizations/organization-13/appearance" for 127.0.0.1 at Sun Feb 05 14:44:38 +0800 2012
  Processing by OrganizationsController#appearance as HTML
  Parameters: {"id"=>"organization-13"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mOrganization Load (0.5ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE `organizations`.`permalink` = 'organization-13' AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered organizations/_appearance_fields.haml (8.0ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (3.9ms)
Rendered shared/_confirm_email.haml (5.4ms)
Rendered shared/_search_bar.haml (1.8ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (11.9ms)
Rendered shared/_header.html.haml (18.9ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (23.4ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered organizations/appearance.haml within layouts/application (880.9ms)
Completed 200 OK in 988ms (Views: 912.1ms | ActiveRecord: 2.9ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:44:41 +0800 2012


Started POST "/organizations/organization-13/update_appearance" for 127.0.0.1 at Sun Feb 05 14:45:00 +0800 2012
  Processing by OrganizationsController#update_appearance as HTML
  Parameters: {"utf8"=>"✓", "commit"=>"Save changes", "id"=>"organization-13", "organization"=>{"description"=>"<br>sfdsfd\r\n"}, "authenticity_token"=>"da0vv/SMKlx7vY334GAhoa/Dj20Q5Jz4lmb91x3qbtA="}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mOrganization Load (0.2ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE `organizations`.`permalink` = 'organization-13' AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mSELECT 1 FROM `organizations` WHERE `organizations`.`deleted` = 0 AND (LOWER(`organizations`.`permalink`) = LOWER('organization-13')) AND (`organizations`.id <> 1) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `organizations` SET `description` = '<br>sfdsfd\r\n', `updated_at` = '2012-02-05 06:45:02' WHERE `organizations`.`id` = 1
FRAGMENT CACHE: Expiring json_organizations for organization organization-13
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `memberships` ON `users`.id = `memberships`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`memberships`.organization_id = 1)) ORDER BY users.updated_at DESC[0m
  [1m[35mMembership Load (0.4ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
[paperclip] Saving attachments.
  [1m[36mSQL (44.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered organizations/_appearance_fields.haml (9.3ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.1ms)
Rendered shared/_confirm_email.haml (5.3ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (11.4ms)
Rendered shared/_header.html.haml (19.1ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (186.6ms)
Rendered shared/_footer.haml (4.2ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered organizations/appearance.haml within layouts/application (1047.6ms)
Completed 200 OK in 1221ms (Views: 1072.0ms | ActiveRecord: 49.2ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:45:03 +0800 2012


Started POST "/organizations/organization-13/update_appearance" for 127.0.0.1 at Sun Feb 05 14:45:21 +0800 2012
  Processing by OrganizationsController#update_appearance as HTML
  Parameters: {"utf8"=>"✓", "commit"=>"Save changes", "id"=>"organization-13", "organization"=>{"description"=>"<br>sfdsfd\r\n", "logo"=>#<ActionDispatch::Http::UploadedFile:0xb5a5b030 @tempfile=#<File:/tmp/RackMultipart20120205-2975-d0ysnz-0>, @content_type="image/jpeg", @original_filename="meinv332.jpg", @headers="Content-Disposition: form-data; name=\"organization[logo]\"; filename=\"meinv332.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "authenticity_token"=>"da0vv/SMKlx7vY334GAhoa/Dj20Q5Jz4lmb91x3qbtA="}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.4ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.3ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mOrganization Load (0.5ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE `organizations`.`permalink` = 'organization-13' AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mSELECT 1 FROM `organizations` WHERE `organizations`.`deleted` = 0 AND (LOWER(`organizations`.`permalink`) = LOWER('organization-13')) AND (`organizations`.id <> 1) LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE `organizations` SET `logo_file_name` = 'meinv332.jpg', `logo_content_type` = 'image/jpeg', `updated_at` = '2012-02-05 06:45:23', `logo_file_size` = 220006 WHERE `organizations`.`id` = 1
FRAGMENT CACHE: Expiring json_organizations for organization organization-13
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `memberships` ON `users`.id = `memberships`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`memberships`.organization_id = 1)) ORDER BY users.updated_at DESC[0m
  [1m[35mMembership Load (0.4ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
[paperclip] Saving attachments.
[paperclip] saving /home/lee/dev/teambox/public/logos/1/top.png
[paperclip] saving /home/lee/dev/teambox/public/logos/1/square.png
[paperclip] saving /home/lee/dev/teambox/public/logos/1/original.png
  [1m[36mSQL (70.4ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered organizations/_appearance_fields.haml (8.4ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (3.9ms)
Rendered shared/_confirm_email.haml (6.1ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[36mSQL (2.5ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (14.9ms)
Rendered shared/_header.html.haml (23.4ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (24.0ms)
Rendered shared/_footer.haml (3.6ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered organizations/appearance.haml within layouts/application (865.7ms)
Completed 200 OK in 1955ms (Views: 873.8ms | ActiveRecord: 78.1ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:45:25 +0800 2012


Started GET "/users/0612800232" for 127.0.0.1 at Sun Feb 05 14:45:32 +0800 2012
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"0612800232"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.4ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.3ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCard Load (0.3ms)[0m  SELECT `cards`.* FROM `cards` WHERE (`cards`.user_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mActivity Load (0.6ms)[0m  [1mSELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE `activities`.`user_id` = 1 AND (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) ORDER BY last_activity_id desc LIMIT 25[0m
  [1m[35mActivity Load (0.6ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE `activities`.`user_id` = 1 AND (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered activities/_create_project.haml (15.0ms)
Rendered activities/_show_more.haml (3.0ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `phone_numbers` WHERE (`phone_numbers`.card_id = 1)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `email_addresses` WHERE (`email_addresses`.card_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `websites` WHERE (`websites`.card_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `addresses` WHERE (`addresses`.card_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `ims` WHERE (`ims`.card_id = 1)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `social_networks` WHERE (`social_networks`.card_id = 1)[0m
Rendered cards/_card.haml (296.7ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.4ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.1ms)
Rendered shared/_confirm_email.haml (5.3ms)
Rendered shared/_search_bar.haml (165.2ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (13.3ms)
Rendered shared/_header.html.haml (184.1ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.6ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (35.3ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered users/show.haml within layouts/application (1393.8ms)
Completed 200 OK in 1714ms (Views: 1417.6ms | ActiveRecord: 7.5ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:45:36 +0800 2012


Started GET "/account/settings" for 127.0.0.1 at Sun Feb 05 14:45:43 +0800 2012
  Processing by UsersController#edit as HTML
  Parameters: {"sub_action"=>"settings"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1[0m
Rendered shared/_user_navigation.erb (13.1ms)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_settings.haml (1033.4ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (3.9ms)
Rendered shared/_confirm_email.haml (5.7ms)
Rendered shared/_search_bar.haml (2.0ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (26.5ms)
Rendered shared/_header.html.haml (34.1ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (197.3ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered users/edit.haml within layouts/application (1399.0ms)
Completed 200 OK in 1647ms (Views: 1409.4ms | ActiveRecord: 1.7ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:45:47 +0800 2012


Started GET "/users/0612800232/unconfirmed_email?resend=true" for 127.0.0.1 at Sun Feb 05 14:47:52 +0800 2012
  Processing by UsersController#unconfirmed_email as HTML
  Parameters: {"resend"=>"true", "id"=>"0612800232"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `recent_projects_ids` = '--- \n- 1\n', `login_token_expires_at` = '2012-03-05 06:47:54', `updated_at` = '2012-02-05 06:47:54', `login_token` = 'a8550c47485a00ddd133ce3d559c16878bacca8a' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (80.6ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (2.2ms)
Rendered emailer/confirm_email.html.haml (11.3ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/confirm_email.text.erb (2.8ms)

Sent mail to liwenjingabc@gmail.com (22ms)
Date: Sun, 05 Feb 2012 14:47:55 +0800
From: Teambox <no-reply@gmail.com>
To: liwenjingabc@gmail.com
Message-ID: <4f2e261b42099_b9f2540ed96507a0@lee-laptop.mail>
Subject: Get started with Teambox
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f2e261b3c4f7_b9f2540ed96504a0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f2e261b3c4f7_b9f2540ed96504a0
Date: Sun, 05 Feb 2012 14:47:55 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2e261b3fd47_b9f2540ed9650571@lee-laptop.mail>

// Do not reply to this email.


Hey, =E6=9D=8E =E6=96=87=E9=9D=99!


In order to complete your signup for Teambox, we need you to log in by cl=
icking here:

http://localhost:3000/users/0612800232/confirm_email?token=3Da8550c47485a=
00ddd133ce3d559c16878bacca8a


You received this message because you signed up for a Teambox account wit=
h liwenjingabc@gmail.com
If you have any problems, please contact us at http://help.teambox.com


----==_mimepart_4f2e261b3c4f7_b9f2540ed96504a0
Date: Sun, 05 Feb 2012 14:47:55 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2e261b40ff7_b9f2540ed9650659@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Hey, =E6=9D=8E =E6=96=87=E9=9D=99!</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>In order to <b>complete your signup</b> for Teambox, we need you t=
o log in by clicking here:</p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/0612800232/confirm_email?tok=
en=3Da8550c47485a00ddd133ce3d559c16878bacca8a">Log into Teambox now!</a>
    </h2>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If this doesn't work, copy and paste the following link in your brows=
er's bar:
    <br>
    <a href=3D"http://localhost:3000/users/0612800232/confirm_email?token=
=3Da8550c47485a00ddd133ce3d559c16878bacca8a">http://localhost:3000/users/=
0612800232/confirm_email?token=3Da8550c47485a00ddd133ce3d559c16878bacca8a=
</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>You received this message because you signed up for a Teambox acco=
unt with liwenjingabc@gmail.com</p>
    <p>If you have any problems, please contact us at http://help.teambox=
.com</p>
  </div>
</div>


----==_mimepart_4f2e261b3c4f7_b9f2540ed96504a0--
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.0ms)
Rendered shared/_confirm_email.haml (5.4ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (215.8ms)
Rendered shared/_header.html.haml (224.1ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (25.1ms)
Rendered shared/_footer.haml (4.1ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.5ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered users/unconfirmed_email.haml within layouts/application (344.6ms)
Completed 200 OK in 816ms (Views: 354.2ms | ActiveRecord: 83.8ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:47:55 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/logout" for 127.0.0.1 at Sun Feb 05 14:50:00 +0800 2012
  Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `recent_projects_ids` = '--- \n- 1\n', `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2012-02-05 06:50:01' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (83.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/goodbye
Completed 302 Found in 336ms


Started GET "/goodbye" for 127.0.0.1 at Sun Feb 05 14:50:01 +0800 2012
  Processing by StaticPagesController#goodbye as HTML
Rendered static_pages/goodbye.haml within layouts/sessions (102.5ms)
Completed 200 OK in 124ms (Views: 122.0ms | ActiveRecord: 0.4ms | Sphinx: 0.0ms)


Started GET "/sprockets/public.js" for 127.0.0.1 at Sun Feb 05 14:50:03 +0800 2012
  Processing by SprocketsController#show as JS
  Parameters: {"id"=>"public"}
Completed 304 Not Modified in 508ms


Started GET "/users/0612800232/confirm_email?token==3Da8550c47485a00ddd133ce3d559c16878bacca8a" for 127.0.0.1 at Sun Feb 05 14:50:14 +0800 2012
  Processing by UsersController#confirm_email as HTML
  Parameters: {"id"=>"0612800232", "token"=>"=3Da8550c47485a00ddd133ce3d559c16878bacca8a"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
Redirected to http://localhost:3000/
Completed 302 Found in 43ms


Started GET "/" for 127.0.0.1 at Sun Feb 05 14:50:16 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 14:50:18 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
Rendered shared/_upgrade_browser.haml (8.7ms)
Rendered sites/_fields.haml (3.8ms)
Rendered shared/_chrome_frame.html.haml (2.7ms)
Rendered sites/show.haml within layouts/sites (59.9ms)
Completed 200 OK in 89ms (Views: 78.8ms | ActiveRecord: 0.8ms | Sphinx: 0.0ms)


Started POST "/sites" for 127.0.0.1 at Sun Feb 05 14:50:27 +0800 2012
  Processing by SitesController#create as HTML
  Parameters: {"password"=>"[FILTERED]", "login"=>"0612800232", "utf8"=>"✓", "id"=>"organization-13", "authenticity_token"=>"gUAWhYxHZeYSisKIGVRQJPl5ueTxuEeR4YecF1QRn8A=", "commit"=>"Log in"}
  [1m[36mOrganization Load (0.4ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`permalink` = 'organization-13' AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `updated_at` = '2012-02-05 06:50:29', `recent_projects_ids` = '--- \n- 1\n', `remember_token` = 'df75885dcecb29039988d572dc6accbb41b340c2', `remember_token_expires_at` = '2012-02-19 06:50:29' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (88.9ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 143ms


Started GET "/" for 127.0.0.1 at Sun Feb 05 14:50:29 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.6ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered google_docs/_form.haml (24.3ms)
Rendered comments/_fields.haml (66.2ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__461716456__623043178_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__461716456__623043178_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (11.5ms)
Rendered activities/_show_more.haml (3.1ms)
Rendered shared/_collapse.haml (2.7ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.0ms)
Rendered shared/_confirm_email.haml (5.3ms)
Rendered shared/_search_bar.haml (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.3ms)
Rendered shared/_header.html.haml (15.8ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (22.5ms)
Rendered shared/_footer.haml (3.5ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (567.8ms)
Completed 200 OK in 1249ms (Views: 597.8ms | ActiveRecord: 5.1ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 14:50:32 +0800 2012


Started GET "/logout" for 127.0.0.1 at Sun Feb 05 14:51:59 +0800 2012
  Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.3ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `remember_token_expires_at` = NULL, `remember_token` = NULL, `recent_projects_ids` = '--- \n- 1\n', `updated_at` = '2012-02-05 06:52:01' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (65.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/goodbye
Completed 302 Found in 182ms


Started GET "/goodbye" for 127.0.0.1 at Sun Feb 05 14:52:01 +0800 2012
  Processing by StaticPagesController#goodbye as HTML
Rendered static_pages/goodbye.haml within layouts/sessions (164.2ms)
Completed 200 OK in 169ms (Views: 167.2ms | ActiveRecord: 0.4ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 14:52:13 +0800 2012
  Processing by UsersController#new as HTML
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
Redirected to http://localhost:3000/login
Completed 302 Found in 8ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 14:52:15 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
Rendered shared/_upgrade_browser.haml (151.9ms)
Rendered sites/_fields.haml (4.4ms)
Rendered shared/_chrome_frame.html.haml (3.1ms)
Rendered sites/show.haml within layouts/sites (190.7ms)
Completed 200 OK in 202ms (Views: 193.7ms | ActiveRecord: 0.6ms | Sphinx: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Sun Feb 05 15:00:02 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 4ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:00:03 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
Rendered shared/_upgrade_browser.haml (17.7ms)
Rendered sites/_fields.haml (5.9ms)
Rendered shared/_chrome_frame.html.haml (14.7ms)
Rendered sites/show.haml within layouts/sites (343.9ms)
Completed 200 OK in 359ms (Views: 348.0ms | ActiveRecord: 79.5ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 15:01:27 +0800 2012
  Processing by UsersController#new as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
Redirected to http://localhost:3000/login
Completed 302 Found in 10ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:01:29 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
Rendered shared/_upgrade_browser.haml (6.6ms)
Rendered sites/_fields.haml (5.4ms)
Rendered shared/_chrome_frame.html.haml (3.6ms)
Rendered sites/show.haml within layouts/sites (58.5ms)
Completed 200 OK in 75ms (Views: 61.9ms | ActiveRecord: 367.2ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 15:02:30 +0800 2012
  Processing by UsersController#new as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
Redirected to http://localhost:3000/login
Completed 302 Found in 10ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:02:32 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
Rendered shared/_upgrade_browser.haml (6.8ms)
Rendered sites/_fields.haml (8.3ms)
Rendered shared/_chrome_frame.html.haml (4.1ms)
Rendered sites/show.haml within layouts/sites (226.3ms)
Completed 200 OK in 241ms (Views: 229.9ms | ActiveRecord: 128.7ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 15:02:48 +0800 2012
  Processing by UsersController#new as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
Redirected to http://localhost:3000/login
Completed 302 Found in 10ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:02:50 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
Rendered shared/_upgrade_browser.haml (6.5ms)
Rendered sites/_fields.haml (5.5ms)
Rendered shared/_chrome_frame.html.haml (3.8ms)
Rendered sites/show.haml within layouts/sites (59.1ms)
Completed 200 OK in 73ms (Views: 62.5ms | ActiveRecord: 148.3ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 15:03:28 +0800 2012
  Processing by UsersController#new as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Sun Feb 05 15:09:14 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 4ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:09:15 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
Rendered shared/_upgrade_browser.haml (11.0ms)
Rendered sites/_fields.haml (5.6ms)
Rendered shared/_chrome_frame.html.haml (3.5ms)
Rendered sites/show.haml within layouts/sites (301.6ms)
Completed 200 OK in 317ms (Views: 305.9ms | ActiveRecord: 90.3ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 15:09:26 +0800 2012
  Processing by UsersController#new as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
Redirected to http://localhost:3000/login
Completed 302 Found in 20632ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:09:48 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
Rendered shared/_upgrade_browser.haml (7.0ms)
Rendered sites/_fields.haml (5.7ms)
Rendered shared/_chrome_frame.html.haml (3.6ms)
Rendered sites/show.haml within layouts/sites (60.9ms)
Completed 200 OK in 76ms (Views: 64.5ms | ActiveRecord: 59.9ms | Sphinx: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Sun Feb 05 15:11:16 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 4ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:11:17 +0800 2012
  Processing by SessionsController#new as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `users` WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
Rendered shared/_upgrade_browser.haml (10.8ms)
Rendered sites/_fields.haml (6.2ms)
Rendered shared/_chrome_frame.html.haml (3.7ms)
Rendered sites/show.haml within layouts/sites (231.3ms)
Completed 200 OK in 246ms (Views: 235.1ms | ActiveRecord: 78.0ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 15:11:40 +0800 2012
  Processing by UsersController#new as HTML
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Sun Feb 05 15:14:44 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 5ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 15:14:45 +0800 2012
  Processing by SessionsController#new as HTML
Rendered shared/_upgrade_browser.haml (7.1ms)
Rendered shared/_chrome_frame.html.haml (3.6ms)
Rendered sessions/_fields.haml (8.6ms)
Rendered sessions/new.haml within layouts/sessions (232.4ms)
Completed 200 OK in 8785ms (Views: 240.8ms | ActiveRecord: 71.6ms | Sphinx: 0.0ms)


Started GET "/users/new" for 127.0.0.1 at Sun Feb 05 15:15:04 +0800 2012
  Processing by UsersController#new as HTML
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_new.haml (1457.9ms)
Rendered users/new.haml within layouts/sessions (1702.5ms)
Completed 200 OK in 43435ms (Views: 1705.7ms | ActiveRecord: 0.3ms | Sphinx: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (1.2ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Sun Feb 05 22:25:26 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 54ms


Started GET "/login" for 127.0.0.1 at Sun Feb 05 22:25:27 +0800 2012
  Processing by SessionsController#new as HTML
Rendered shared/_upgrade_browser.haml (4.8ms)
Rendered shared/_chrome_frame.html.haml (2.6ms)
Rendered sessions/_fields.haml (4.9ms)
Rendered sessions/new.haml within layouts/sessions (686.7ms)
Completed 200 OK in 693ms (Views: 690.7ms | ActiveRecord: 0.4ms | Sphinx: 0.0ms)


Started GET "/sprockets/public.js" for 127.0.0.1 at Sun Feb 05 22:25:30 +0800 2012
  Processing by SprocketsController#show as JS
  Parameters: {"id"=>"public"}
Completed 304 Not Modified in 504ms


Started POST "/session" for 127.0.0.1 at Sun Feb 05 22:25:35 +0800 2012
  Processing by SessionsController#create as HTML
  Parameters: {"password"=>"[FILTERED]", "authenticity_token"=>"CKoIySnZk66Pp7WmbzC/3sB95m23lG5gHefYuwSJ9I4=", "commit"=>"登录", "login"=>"0612800232", "utf8"=>"✓"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `remember_token` = '8c1bdc6fd563ff4f7bf173a5a2391e2ffc14b5e4', `updated_at` = '2012-02-05 14:25:37', `recent_projects_ids` = '--- \n- 1\n', `remember_token_expires_at` = '2012-02-19 14:25:37' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (148.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 204ms


Started GET "/" for 127.0.0.1 at Sun Feb 05 22:25:37 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.4ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.6ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (14.3ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered google_docs/_form.haml (24.8ms)
Rendered comments/_fields.haml (64.1ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___762104479__617796488_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___762104479__617796488_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (12.4ms)
Rendered activities/_show_more.haml (3.1ms)
Rendered shared/_collapse.haml (2.9ms)
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.5ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.4ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.1ms)
Rendered shared/_confirm_email.haml (5.6ms)
Rendered shared/_search_bar.haml (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.3ms)
Rendered shared/_header.html.haml (24.0ms)
  [1m[35mPerson Load (0.7ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.5ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (26.8ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[35mProject Load (0.6ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (562.2ms)
Completed 200 OK in 1303ms (Views: 570.5ms | ActiveRecord: 22.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Sun Feb 05 22:25:40 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Sun Feb 05 22:25:42 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 760ms


Started POST "/conversations" for 127.0.0.1 at Sun Feb 05 22:25:51 +0800 2012
  Processing by ConversationsController#create as HTML
  Parameters: {"authenticity_token"=>"CKoIySnZk66Pp7WmbzC/3sB95m23lG5gHefYuwSJ9I4=", "conversation"=>{"comments_attributes"=>{"0"=>{"body"=>"1111111111111"}}, "simple"=>"true"}, "commit"=>"保存", "_"=>"", "utf8"=>"✓", "project_id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.4ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  describe `conversations`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `conversations` (`user_id`, `is_private`, `comments_count`, `created_at`, `converted_to`, `deleted`, `project_id`, `name`, `simple`, `updated_at`, `last_comment_id`) VALUES (1, 0, 0, '2012-02-05 14:25:54', NULL, 0, 1, NULL, 1, '2012-02-05 14:25:54', NULL)[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`watch_new_conversation` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1)[0m
  [1m[35mSQL (0.9ms)[0m  describe `comments`
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `comments` (`previous_urgent`, `is_private`, `assigned_id`, `previous_due_on`, `project_id`, `uploads_count`, `hours`, `deleted`, `body_html`, `urgent`, `created_at`, `billable`, `target_type`, `target_id`, `due_on`, `previous_assigned_id`, `status`, `user_id`, `previous_status`, `body`, `updated_at`) VALUES (0, 0, NULL, NULL, 1, 0, NULL, 0, '<p>1111111111111</p>\n', 0, '2012-02-05 14:25:54', NULL, 'Conversation', 1, NULL, NULL, NULL, 1, NULL, '1111111111111', '2012-02-05 14:25:54')[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE `conversations` SET `comments_count` = COALESCE(`comments_count`, 0) + 1 WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0))
  [1m[36mGoogleDoc Load (0.3ms)[0m  [1mSELECT `google_docs`.* FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = NULL)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mdescribe `activities`[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `activities` (`is_private`, `target_type`, `last_activity_id`, `updated_at`, `user_id`, `comment_target_id`, `action`, `project_id`, `created_at`, `deleted`, `comment_target_type`, `target_id`) VALUES (0, 'Comment', NULL, '2012-02-05 14:25:54', 1, 1, 'create', 1, '2012-02-05 14:25:54', 0, 'Conversation', 1)
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE `activities` SET `target_type` = 'Comment', `last_activity_id` = 2, `updated_at` = '2012-02-05 14:25:54', `user_id` = 1, `comment_target_id` = 1, `action` = 'create', `project_id` = 1, `created_at` = '2012-02-05 14:25:54', `comment_target_type` = 'Conversation', `target_id` = 1 WHERE `activities`.`id` = 2[0m
  [1m[35mActivity Load (0.4ms)[0m  SELECT `activities`.* FROM `activities` WHERE (target_type = 'Conversation' AND target_id = 1) ORDER BY activities.id DESC LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `watchers` ON `users`.id = `watchers`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`watchers`.watchable_id = 1) AND (`watchers`.watchable_type = 'Conversation')) ORDER BY users.updated_at DESC[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  describe `watchers`
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `watchers` (`created_at`, `project_id`, `watchable_type`, `watchable_id`, `user_id`, `updated_at`) VALUES ('2012-02-05 14:25:54', 1, 'Conversation', 1, 1, '2012-02-05 14:25:54')[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE `conversations` SET `user_id` = 1, `created_at` = '2012-02-05 14:25:54', `project_id` = 1, `simple` = 1, `updated_at` = '2012-02-05 14:25:54' WHERE `conversations`.`id` = 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE `comments` SET `project_id` = 1, `body_html` = '<p>1111111111111</p>\n', `created_at` = '2012-02-05 14:25:54', `target_type` = 'Conversation', `target_id` = 1, `user_id` = 1, `body` = '1111111111111', `updated_at` = '2012-02-05 14:25:54' WHERE `comments`.`id` = 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `watchers` ON `users`.id = `watchers`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`watchers`.watchable_id = 1) AND (`watchers`.watchable_type = 'Conversation')) ORDER BY users.updated_at DESC
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `activities` (`is_private`, `target_type`, `last_activity_id`, `updated_at`, `user_id`, `comment_target_id`, `action`, `project_id`, `created_at`, `deleted`, `comment_target_type`, `target_id`) VALUES (0, 'Conversation', NULL, '2012-02-05 14:25:54', 1, NULL, 'create', 1, '2012-02-05 14:25:54', 0, NULL, 1)[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE `activities` SET `target_type` = 'Conversation', `last_activity_id` = 3, `updated_at` = '2012-02-05 14:25:54', `user_id` = 1, `action` = 'create', `project_id` = 1, `created_at` = '2012-02-05 14:25:54', `target_id` = 1 WHERE `activities`.`id` = 3
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `settings` = '{\"stats\":{\"invites\":1,\"conversations\":1,\"projects\":1},\"badges\":[\"first_project\",\"first_invite\"]}' WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))[0m
  [1m[35mSQL (51.5ms)[0m  COMMIT
  [1m[36mPerson Load (0.6ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` IN (1) AND `people`.`project_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Rendered comments/_comment.haml (20.5ms)
Rendered activities/_thread_comments.haml (25.1ms)
Rendered google_docs/_form.haml (5.5ms)
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered comments/_fields.haml (204.4ms)
Rendered activities/_thread.haml (257.2ms)
Completed 200 OK in 1200ms (Views: 260.0ms | ActiveRecord: 65.0ms | Sphinx: 0.0ms)


Started POST "/account/badge/first_conversation/grant" for 127.0.0.1 at Sun Feb 05 22:25:54 +0800 2012
  Processing by UsersController#grant_badge as JS
  Parameters: {"badge"=>"first_conversation"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mAREL (45.1ms)[0m  UPDATE `users` SET `settings` = '{\"stats\":{\"invites\":1,\"conversations\":1,\"projects\":1},\"badges\":[\"first_project\",\"first_invite\",\"first_conversation\"]}' WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
Completed 200 OK in 98ms
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Mon Feb 06 21:44:55 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (24.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`remember_token` = '8c1bdc6fd563ff4f7bf173a5a2391e2ffc14b5e4' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (2.6ms)[0m  UPDATE `users` SET `updated_at` = '2012-02-06 13:44:56', `recent_projects_ids` = '--- \n- 1\n', `remember_token` = '8676021d756204829effc9436f719ea39f1fa1e6' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (68.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (2.8ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.4ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `updated_at` = '2012-02-06 13:44:56', `recent_projects_ids` = '--- \n- 1\n', `visited_at` = '2012-02-06 13:44:56' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (189.5ms)[0m  COMMIT
  [1m[36mProject Load (0.6ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (23.9ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (155.0ms)
Rendered comments/_fields.haml (204.6ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__616289718_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__616289718_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.8ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (2.2ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.5ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (31.6ms)
Rendered activities/_thread_comments.haml (54.1ms)
Rendered google_docs/_form.haml (9.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.4ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (222.6ms)
Rendered activities/_thread.haml (392.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (10.9ms)
Rendered activities/_show_more.haml (2.8ms)
Rendered shared/_collapse.haml (3.9ms)
  [1m[36mPerson Load (0.6ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.5ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.4ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (7.7ms)
Rendered shared/_confirm_email.haml (10.9ms)
Rendered shared/_search_bar.haml (4.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (180.6ms)
Rendered shared/_header.html.haml (230.2ms)
  [1m[35mPerson Load (0.5ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.4ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (26.8ms)
Rendered shared/_footer.haml (5.1ms)
  [1m[35mProject Load (0.6ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (1820.2ms)
Completed 200 OK in 3225ms (Views: 1851.2ms | ActiveRecord: 324.2ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 21:44:59 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 21:45:01 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 989ms


Started GET "/users/0612800232/unconfirmed_email?resend=true" for 127.0.0.1 at Mon Feb 06 21:45:22 +0800 2012
  Processing by UsersController#unconfirmed_email as HTML
  Parameters: {"resend"=>"true", "id"=>"0612800232"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `login_token_expires_at` = '2012-03-06 13:45:24', `login_token` = '9f69c86065f8821376122429e4dd657536f56a1e', `recent_projects_ids` = '--- \n- 1\n', `updated_at` = '2012-02-06 13:45:24' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (45.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
Rendered emailer/_dont_answer.html.haml (1.9ms)
Rendered emailer/confirm_email.html.haml (18.3ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/confirm_email.text.erb (2.9ms)

Sent mail to liwenjingabc@gmail.com (46ms)
Date: Mon, 06 Feb 2012 21:45:24 +0800
From: Teambox <no-reply@gmail.com>
To: liwenjingabc@gmail.com
Message-ID: <4f2fd974911ee_ac82518ffa272151@lee-laptop.mail>
Subject: Get started with Teambox
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f2fd9748584d_ac82518ffa2718db";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f2fd9748584d_ac82518ffa2718db
Date: Mon, 06 Feb 2012 21:45:24 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2fd9748b2d7_ac82518ffa27194c@lee-laptop.mail>

// Do not reply to this email.


Hey, =E6=9D=8E =E6=96=87=E9=9D=99!


In order to complete your signup for Teambox, we need you to log in by cl=
icking here:

http://localhost:3000/users/0612800232/confirm_email?token=3D9f69c86065f8=
821376122429e4dd657536f56a1e


You received this message because you signed up for a Teambox account wit=
h liwenjingabc@gmail.com
If you have any problems, please contact us at http://help.teambox.com


----==_mimepart_4f2fd9748584d_ac82518ffa2718db
Date: Mon, 06 Feb 2012 21:45:24 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f2fd9748e5ad_ac82518ffa27205d@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Hey, =E6=9D=8E =E6=96=87=E9=9D=99!</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>In order to <b>complete your signup</b> for Teambox, we need you t=
o log in by clicking here:</p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/0612800232/confirm_email?tok=
en=3D9f69c86065f8821376122429e4dd657536f56a1e">Log into Teambox now!</a>
    </h2>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If this doesn't work, copy and paste the following link in your brows=
er's bar:
    <br>
    <a href=3D"http://localhost:3000/users/0612800232/confirm_email?token=
=3D9f69c86065f8821376122429e4dd657536f56a1e">http://localhost:3000/users/=
0612800232/confirm_email?token=3D9f69c86065f8821376122429e4dd657536f56a1e=
</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>You received this message because you signed up for a Teambox acco=
unt with liwenjingabc@gmail.com</p>
    <p>If you have any problems, please contact us at http://help.teambox=
.com</p>
  </div>
</div>


----==_mimepart_4f2fd9748584d_ac82518ffa2718db--
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.0ms)
Rendered shared/_confirm_email.haml (5.5ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (26.0ms)
Rendered shared/_header.html.haml (41.3ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (21.7ms)
Rendered shared/_footer.haml (3.5ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered users/unconfirmed_email.haml within layouts/application (315.8ms)
Completed 200 OK in 692ms (Views: 332.4ms | ActiveRecord: 48.9ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 21:45:25 +0800 2012


Started GET "/users/0612800232/confirm_email?token==3D9f69c86065f8821376122429e4dd657536f56a1e" for 127.0.0.1 at Mon Feb 06 21:45:43 +0800 2012
  Processing by UsersController#confirm_email as HTML
  Parameters: {"token"=>"=3D9f69c86065f8821376122429e4dd657536f56a1e", "id"=>"0612800232"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `recent_projects_ids` = '--- \n- 1\n', `remember_token_expires_at` = NULL, `remember_token` = NULL, `updated_at` = '2012-02-06 13:45:44' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (75.0ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 135ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 21:45:45 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms


Started GET "/login" for 127.0.0.1 at Mon Feb 06 21:45:46 +0800 2012
  Processing by SessionsController#new as HTML
Rendered shared/_upgrade_browser.haml (4.7ms)
Rendered shared/_chrome_frame.html.haml (2.7ms)
Rendered sessions/_fields.haml (5.1ms)
Rendered sessions/new.haml within layouts/sessions (36.7ms)
Completed 200 OK in 72ms (Views: 69.9ms | ActiveRecord: 0.4ms | Sphinx: 0.0ms)


Started GET "/sprockets/public.js" for 127.0.0.1 at Mon Feb 06 21:45:49 +0800 2012
  Processing by SprocketsController#show as JS
  Parameters: {"id"=>"public"}
Completed 304 Not Modified in 434ms


Started GET "/logout" for 127.0.0.1 at Mon Feb 06 21:45:53 +0800 2012
  Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms


Started GET "/login" for 127.0.0.1 at Mon Feb 06 21:45:55 +0800 2012
  Processing by SessionsController#new as HTML
Rendered shared/_upgrade_browser.haml (4.3ms)
Rendered shared/_chrome_frame.html.haml (2.5ms)
Rendered sessions/_fields.haml (5.2ms)
Rendered sessions/new.haml within layouts/sessions (28.1ms)
Completed 200 OK in 34ms (Views: 31.7ms | ActiveRecord: 0.4ms | Sphinx: 0.0ms)


Started GET "/users/0612800232/confirm_email?token==3D9f69c86065f8821376122429e4dd657536f56a1e" for 127.0.0.1 at Mon Feb 06 21:45:59 +0800 2012
  Processing by UsersController#confirm_email as HTML
  Parameters: {"token"=>"=3D9f69c86065f8821376122429e4dd657536f56a1e", "id"=>"0612800232"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 43ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 21:46:01 +0800 2012
  Processing by ProjectsController#index as HTML
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms


Started GET "/login" for 127.0.0.1 at Mon Feb 06 21:46:03 +0800 2012
  Processing by SessionsController#new as HTML
Rendered shared/_upgrade_browser.haml (4.7ms)
Rendered shared/_chrome_frame.html.haml (2.6ms)
Rendered sessions/_fields.haml (4.9ms)
Rendered sessions/new.haml within layouts/sessions (30.2ms)
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 0.4ms | Sphinx: 0.0ms)


Started POST "/session" for 127.0.0.1 at Mon Feb 06 21:46:06 +0800 2012
  Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Qvx8FJpeLD0FbZgY+l7ZpfTShW3XVieuprfLZ4wba2o=", "login"=>"0612800232", "commit"=>"登录", "password"=>"[FILTERED]", "utf8"=>"✓"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `remember_token` = '4ba6c211f2a62d1ae6e610d66d0e6f51d02f99cc', `updated_at` = '2012-02-06 13:46:08', `remember_token_expires_at` = '2012-02-20 13:46:08', `recent_projects_ids` = '--- \n- 1\n' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (63.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 270ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 21:46:09 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (25.2ms)
Rendered comments/_fields.haml (217.1ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623199278_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623199278_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.1ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (188.1ms)
Rendered activities/_thread_comments.haml (194.2ms)
Rendered google_docs/_form.haml (5.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (58.2ms)
Rendered activities/_thread.haml (298.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (9.7ms)
Rendered activities/_show_more.haml (2.7ms)
Rendered shared/_collapse.haml (2.4ms)
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (3.9ms)
Rendered shared/_confirm_email.haml (5.6ms)
Rendered shared/_search_bar.haml (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.0ms)
Rendered shared/_header.html.haml (22.4ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (22.8ms)
Rendered shared/_footer.haml (3.6ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (834.2ms)
Completed 200 OK in 1463ms (Views: 842.1ms | ActiveRecord: 4.4ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 21:46:12 +0800 2012


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:04:55 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (178.0ms)
Rendered comments/_fields.haml (216.9ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622107758_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622107758_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.1ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (30.8ms)
Rendered activities/_thread_comments.haml (37.1ms)
Rendered google_docs/_form.haml (6.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (216.1ms)
Rendered activities/_thread.haml (298.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (9.7ms)
Rendered activities/_show_more.haml (2.9ms)
Rendered shared/_collapse.haml (2.5ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (3.8ms)
Rendered shared/_confirm_email.haml (5.2ms)
Rendered shared/_search_bar.haml (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (6.8ms)
Rendered shared/_header.html.haml (21.8ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (24.8ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (840.7ms)
Completed 200 OK in 1468ms (Views: 849.5ms | ActiveRecord: 3.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:04:59 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:05:01 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 750ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:05:28 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (26.6ms)
Rendered comments/_fields.haml (66.8ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__621997308_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__621997308_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.1ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (32.0ms)
Rendered activities/_thread_comments.haml (38.3ms)
Rendered google_docs/_form.haml (6.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (3.8ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (233.6ms)
Rendered activities/_thread.haml (321.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (11.3ms)
Rendered activities/_show_more.haml (3.1ms)
Rendered shared/_collapse.haml (2.8ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.5ms)
Rendered shared/_confirm_email.haml (6.3ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.3ms)
Rendered shared/_header.html.haml (24.1ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (191.1ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (885.2ms)
Completed 200 OK in 1525ms (Views: 890.9ms | ActiveRecord: 6.8ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:05:31 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:05:33 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 784ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:06:43 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (25.5ms)
Rendered comments/_fields.haml (65.9ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622509878_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622509878_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.1ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (32.3ms)
Rendered activities/_thread_comments.haml (38.1ms)
Rendered google_docs/_form.haml (176.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (234.2ms)
Rendered activities/_thread.haml (492.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (11.2ms)
Rendered activities/_show_more.haml (3.0ms)
Rendered shared/_collapse.haml (2.8ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.0ms)
Rendered shared/_confirm_email.haml (6.1ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (6.5ms)
Rendered shared/_header.html.haml (22.5ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (209.2ms)
Rendered shared/_footer.haml (4.4ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (917.0ms)
Completed 200 OK in 1746ms (Views: 926.5ms | ActiveRecord: 3.0ms | Sphinx: 0.0ms)


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:06:47 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 781ms


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:06:49 +0800 2012


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:07:41 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (27.1ms)
Rendered comments/_fields.haml (67.8ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623209148_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623209148_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (1.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (1.6ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (34.1ms)
Rendered activities/_thread_comments.haml (40.3ms)
Rendered google_docs/_form.haml (5.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (2.9ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (252.8ms)
Rendered activities/_thread.haml (507.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (11.5ms)
Rendered activities/_show_more.haml (2.9ms)
Rendered shared/_collapse.haml (2.7ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.5ms)
Rendered shared/_confirm_email.haml (6.0ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.9ms)
Rendered shared/_header.html.haml (25.4ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (23.7ms)
Rendered shared/_footer.haml (3.8ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (901.2ms)
Completed 200 OK in 1547ms (Views: 905.0ms | ActiveRecord: 8.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:07:45 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:07:47 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 767ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:07:51 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (26.8ms)
Rendered comments/_fields.haml (73.0ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623034808_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623034808_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.1ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (36.8ms)
Rendered activities/_thread_comments.haml (203.4ms)
Rendered google_docs/_form.haml (6.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (65.0ms)
Rendered activities/_thread.haml (316.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (174.0ms)
Rendered activities/_show_more.haml (3.1ms)
Rendered shared/_collapse.haml (2.8ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (4.7ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.6ms)
Rendered shared/_confirm_email.haml (5.6ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.1ms)
Rendered shared/_header.html.haml (23.4ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (24.1ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (885.8ms)
Completed 200 OK in 1537ms (Views: 890.4ms | ActiveRecord: 7.7ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:07:54 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:07:56 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 770ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:24:39 +0800 2012

ArgumentError (syntax error on line 956, col 6: `      my_tasks：我的任务'):
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:144:in `load_file'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `open'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:170:in `load_yml'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `send'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `each'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:55:in `init_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:38:in `available_locales'
  thinking-sphinx (2.0.1) lib/thinking_sphinx/railtie.rb:26:in `_callback_before_11'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:45:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
  railties (3.0.9) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.9) lib/rails/application.rb:168:in `call'
  railties (3.0.9) lib/rails/application.rb:77:in `send'
  railties (3.0.9) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.9) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.9) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.9) lib/rails/commands.rb:30
  railties (3.0.9) lib/rails/commands.rb:27:in `tap'
  railties (3.0.9) lib/rails/commands.rb:27
  script/rails:6:in `require'
  script/rails:6

Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.3ms)


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:25:08 +0800 2012

ArgumentError (syntax error on line 956, col 6: `      my_tasks：我的任务'):
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:144:in `load_file'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `open'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:170:in `load_yml'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `send'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `each'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:55:in `init_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:38:in `available_locales'
  thinking-sphinx (2.0.1) lib/thinking_sphinx/railtie.rb:26:in `_callback_before_11'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:45:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
  railties (3.0.9) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.9) lib/rails/application.rb:168:in `call'
  railties (3.0.9) lib/rails/application.rb:77:in `send'
  railties (3.0.9) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.9) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.9) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.9) lib/rails/commands.rb:30
  railties (3.0.9) lib/rails/commands.rb:27:in `tap'
  railties (3.0.9) lib/rails/commands.rb:27
  script/rails:6:in `require'
  script/rails:6

Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.0ms)


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:25:21 +0800 2012

ArgumentError (syntax error on line 956, col 6: `      my_tasks：我的任务'):
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:144:in `load_file'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `open'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:170:in `load_yml'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `send'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `each'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:55:in `init_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:38:in `available_locales'
  thinking-sphinx (2.0.1) lib/thinking_sphinx/railtie.rb:26:in `_callback_before_11'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:45:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
  railties (3.0.9) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.9) lib/rails/application.rb:168:in `call'
  railties (3.0.9) lib/rails/application.rb:77:in `send'
  railties (3.0.9) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.9) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.9) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.9) lib/rails/commands.rb:30
  railties (3.0.9) lib/rails/commands.rb:27:in `tap'
  railties (3.0.9) lib/rails/commands.rb:27
  script/rails:6:in `require'
  script/rails:6

Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.1ms)


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:25:36 +0800 2012

ArgumentError (syntax error on line 956, col 6: `      my_tasks: 我的任务'):
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:144:in `load_file'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `open'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:170:in `load_yml'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `send'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `each'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:55:in `init_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:38:in `available_locales'
  thinking-sphinx (2.0.1) lib/thinking_sphinx/railtie.rb:26:in `_callback_before_11'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:45:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
  railties (3.0.9) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.9) lib/rails/application.rb:168:in `call'
  railties (3.0.9) lib/rails/application.rb:77:in `send'
  railties (3.0.9) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.9) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.9) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.9) lib/rails/commands.rb:30
  railties (3.0.9) lib/rails/commands.rb:27:in `tap'
  railties (3.0.9) lib/rails/commands.rb:27
  script/rails:6:in `require'
  script/rails:6

Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.9ms)


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:26:27 +0800 2012

ArgumentError (syntax error on line 957, col 6: `      show_all_tasks: 显示所有任务'):
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:133:in `load'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:144:in `load_file'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `open'
  /home/lee/.rvm/rubies/ruby-1.8.7-p357/lib/ruby/1.8/yaml.rb:143:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:170:in `load_yml'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `send'
  i18n (0.5.0) lib/i18n/backend/base.rb:156:in `load_file'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `each'
  i18n (0.5.0) lib/i18n/backend/base.rb:15:in `load_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:55:in `init_translations'
  i18n (0.5.0) lib/i18n/backend/simple.rb:38:in `available_locales'
  thinking-sphinx (2.0.1) lib/thinking_sphinx/railtie.rb:26:in `_callback_before_11'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:45:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
  railties (3.0.9) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.9) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.9) lib/rails/application.rb:168:in `call'
  railties (3.0.9) lib/rails/application.rb:77:in `send'
  railties (3.0.9) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.9) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.9) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.9) lib/rails/commands.rb:30
  railties (3.0.9) lib/rails/commands.rb:27:in `tap'
  railties (3.0.9) lib/rails/commands.rb:27
  script/rails:6:in `require'
  script/rails:6

Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /home/lee/.rvm/gems/ruby-1.8.7-p357/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.6ms)


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:26:53 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (26.9ms)
Rendered comments/_fields.haml (256.8ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623888848_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__623888848_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (3.7ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (194.4ms)
Rendered activities/_thread_comments.haml (200.1ms)
Rendered google_docs/_form.haml (5.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (59.2ms)
Rendered activities/_thread.haml (307.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (9.1ms)
Rendered activities/_show_more.haml (3.0ms)
Rendered shared/_collapse.haml (2.6ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.1ms)
Rendered shared/_confirm_email.haml (5.9ms)
Rendered shared/_search_bar.haml (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.0ms)
Rendered shared/_header.html.haml (22.7ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (22.1ms)
Rendered shared/_footer.haml (3.5ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (907.1ms)
Completed 200 OK in 1547ms (Views: 912.4ms | ActiveRecord: 6.8ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:26:56 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:26:58 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 781ms


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:32:45 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (0.1ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (199.3ms)
Rendered comments/_fields.haml (239.0ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622692838_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622692838_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.1ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (30.3ms)
Rendered activities/_thread_comments.haml (36.2ms)
Rendered google_docs/_form.haml (5.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (237.0ms)
Rendered activities/_thread.haml (321.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (10.4ms)
Rendered activities/_show_more.haml (2.7ms)
Rendered shared/_collapse.haml (2.7ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.6ms)
Rendered shared/_confirm_email.haml (191.2ms)
Rendered shared/_search_bar.haml (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (7.6ms)
Rendered shared/_header.html.haml (25.3ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (24.8ms)
Rendered shared/_footer.haml (4.1ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (924.3ms)
Completed 200 OK in 1583ms (Views: 933.2ms | ActiveRecord: 3.0ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:32:49 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:32:51 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 806ms


Started POST "/account/activity_feed_mode/expanded" for 127.0.0.1 at Mon Feb 06 22:33:05 +0800 2012
  Processing by UsersController#change_activities_mode as JS
  Parameters: {"collapsed"=>false}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`login`) = LOWER('0612800232')) AND (`users`.id <> 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('liwenjingabc@gmail.com')) AND (`users`.id <> 1) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `updated_at` = '2012-02-06 14:33:07', `recent_projects_ids` = '--- \n- 1\n', `settings` = '{\"collapse_activities\":false,\"badges\":[\"first_project\",\"first_invite\",\"first_conversation\"],\"stats\":{\"projects\":1,\"invites\":1,\"conversations\":1}}' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (40.8ms)[0m  [1mCOMMIT[0m
Rendered text template (0.0ms)
Completed 200 OK in 140ms (Views: 23.3ms | ActiveRecord: 42.5ms | Sphinx: 0.0ms)


Started GET "/feeds" for 127.0.0.1 at Mon Feb 06 22:36:50 +0800 2012
  Processing by UsersController#feeds as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.4ms)
Rendered shared/_confirm_email.haml (5.8ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (27.3ms)
Rendered shared/_header.html.haml (43.5ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (21.4ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.5ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered users/feeds.haml within layouts/application (341.3ms)
Completed 200 OK in 406ms (Views: 350.4ms | ActiveRecord: 2.4ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:36:53 +0800 2012


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:37:40 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mActivity Load (0.1ms)[0m  [1mSELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mConversation Load (0.1ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered google_docs/_form.haml (26.9ms)
Rendered comments/_fields.haml (224.1ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622547558_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml___837858147__622547558_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mWatcher Load (0.1ms)[0m  SELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mComment Load (3.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)
Rendered comments/_comment.haml (201.1ms)
Rendered activities/_thread_comments.haml (210.6ms)
Rendered google_docs/_form.haml (5.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered comments/_fields.haml (62.0ms)
Rendered activities/_thread.haml (321.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered activities/_create_project.haml (10.7ms)
Rendered activities/_show_more.haml (3.0ms)
Rendered shared/_collapse.haml (2.1ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.7ms)
Rendered shared/_confirm_email.haml (5.7ms)
Rendered shared/_search_bar.haml (2.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (7.0ms)
Rendered shared/_header.html.haml (23.9ms)
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (22.5ms)
Rendered shared/_footer.haml (4.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered projects/index.haml within layouts/application (885.5ms)
Completed 200 OK in 1532ms (Views: 891.1ms | ActiveRecord: 6.6ms | Sphinx: 0.0ms)


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 22:37:44 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 779ms
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Mon Feb 06 22:58:05 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`remember_token` = '4ba6c211f2a62d1ae6e610d66d0e6f51d02f99cc' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `recent_projects_ids` = '--- \n- 1\n', `remember_token` = 'b708feef4d9dd7644d1c1055d9728c982195d472', `updated_at` = '2012-02-06 14:58:06' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (81.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mActivity Load (1.0ms)[0m  [1mSELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered google_docs/_form.haml (148.0ms)
Rendered comments/_fields.haml (188.0ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__954081000__616436728_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__954081000__616436728_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mWatcher Load (0.1ms)[0m  SELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)
Rendered comments/_comment.haml (30.3ms)
Rendered activities/_thread_comments.haml (36.5ms)
Rendered google_docs/_form.haml (8.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered comments/_fields.haml (199.1ms)
Rendered activities/_thread.haml (301.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered activities/_create_project.haml (11.2ms)
Rendered activities/_show_more.haml (3.0ms)
Rendered shared/_collapse.haml (2.3ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.7ms)
Rendered shared/_confirm_email.haml (5.8ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (148.9ms)
Rendered shared/_header.html.haml (165.1ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (23.6ms)
Rendered shared/_footer.haml (3.8ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.5ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered projects/index.haml within layouts/application (915.3ms)
Completed 200 OK in 1739ms (Views: 924.1ms | ActiveRecord: 87.6ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 22:58:07 +0800 2012


Started GET "/" for 127.0.0.1 at Mon Feb 06 23:04:37 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mActivity Load (0.1ms)[0m  [1mSELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered google_docs/_form.haml (24.7ms)
Rendered comments/_fields.haml (64.5ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__954081000__620481428_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__954081000__620481428_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mWatcher Load (0.1ms)[0m  SELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)
Rendered comments/_comment.haml (31.4ms)
Rendered activities/_thread_comments.haml (37.5ms)
Rendered google_docs/_form.haml (5.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered comments/_fields.haml (211.6ms)
Rendered activities/_thread.haml (448.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
Rendered activities/_create_project.haml (11.3ms)
Rendered activities/_show_more.haml (2.8ms)
Rendered shared/_collapse.haml (2.1ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.7ms)
Rendered shared/_confirm_email.haml (5.6ms)
Rendered shared/_search_bar.haml (1.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (6.8ms)
Rendered shared/_header.html.haml (22.9ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (20.1ms)
Rendered shared/_footer.haml (3.5ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered projects/index.haml within layouts/application (833.2ms)
Completed 200 OK in 1448ms (Views: 842.4ms | ActiveRecord: 3.8ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Mon Feb 06 23:04:40 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Mon Feb 06 23:04:42 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 770ms
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (220.3ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Wed Feb 08 23:38:21 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (81.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`remember_token` = 'b708feef4d9dd7644d1c1055d9728c982195d472' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (2.3ms)[0m  UPDATE `users` SET `remember_token` = 'e9352de885ee05582e5998e3b953afe1ffb4f4df', `updated_at` = '2012-02-08 15:38:22', `recent_projects_ids` = '--- \n- 1\n' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (124.7ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.4ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE `users` SET `updated_at` = '2012-02-08 15:38:22', `visited_at` = '2012-02-08 15:38:22', `recent_projects_ids` = '--- \n- 1\n' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (102.5ms)[0m  COMMIT
  [1m[36mProject Load (1.4ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (1.4ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (160.7ms)
Rendered comments/_fields.haml (219.3ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__942596223__616822428_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__942596223__616822428_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.5ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.4ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.5ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.4ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (42.5ms)
Rendered activities/_thread_comments.haml (61.6ms)
Rendered google_docs/_form.haml (7.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.4ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (217.5ms)
Rendered activities/_thread.haml (397.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (14.1ms)
Rendered activities/_show_more.haml (3.2ms)
Rendered shared/_collapse.haml (2.4ms)
  [1m[36mPerson Load (0.5ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.8ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.6ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.4ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (9.2ms)
Rendered shared/_confirm_email.haml (6.3ms)
Rendered shared/_search_bar.haml (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (165.7ms)
Rendered shared/_header.html.haml (183.9ms)
  [1m[35mPerson Load (0.5ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.5ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (26.6ms)
Rendered shared/_footer.haml (4.5ms)
  [1m[35mProject Load (0.6ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (15.0ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (1260.0ms)
Completed 200 OK in 2665ms (Views: 1260.8ms | ActiveRecord: 395.5ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 08 23:38:24 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Wed Feb 08 23:38:26 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 1035ms


Started GET "/projects/test/task_lists" for 127.0.0.1 at Wed Feb 08 23:38:42 +0800 2012
  Processing by TaskListsController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.7ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mTaskList Load (0.5ms)[0m  [1mSELECT `task_lists`.* FROM `task_lists` WHERE ((`task_lists`.`deleted` IS NULL OR `task_lists`.`deleted` = 0)) AND (`task_lists`.project_id = 1 AND (`task_lists`.`page_id` IS NULL)) ORDER BY position ASC, created_at DESC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered task_lists/_filter.haml (8.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mOrganization Load (0.4ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `task_list_templates` WHERE (`task_list_templates`.organization_id = 1)
Rendered task_lists/_fields.html.haml (199.4ms)
Rendered shared/_submit_or_cancel.haml (6.1ms)
Rendered task_lists/_form.haml (251.8ms)
Rendered task_lists/_task_list.html.haml (0.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered task_lists/_primer.haml (10.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered task_lists/_column.haml (7.8ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (3.8ms)
Rendered shared/_confirm_email.haml (5.4ms)
Rendered shared/_search_bar.haml (1.9ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (11.4ms)
Rendered shared/_header.html.haml (18.9ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (171.8ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered task_lists/index.html.haml within layouts/application (1193.0ms)
Completed 200 OK in 1404ms (Views: 1271.6ms | ActiveRecord: 4.7ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 08 23:38:46 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/" for 127.0.0.1 at Wed Feb 15 21:30:06 +0800 2012
  Processing by ProjectsController#index as HTML
  [1m[35mUser Load (21.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`remember_token` = 'e9352de885ee05582e5998e3b953afe1ffb4f4df' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.6ms)[0m  UPDATE `users` SET `recent_projects_ids` = '--- \n- 1\n', `updated_at` = '2012-02-15 13:30:07', `remember_token` = '3ae323eda36e6c407aa1d9903aece1621c725ca5' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (74.1ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.6ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `recent_projects_ids` = '--- \n- 1\n', `updated_at` = '2012-02-15 13:30:07', `visited_at` = '2012-02-15 13:30:07' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (67.8ms)[0m  COMMIT
  [1m[36mProject Load (0.9ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`archived` = 0 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mActivity Load (23.3ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE (`projects`.`id` = 1)
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE (`conversations`.`id` = 1)[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered google_docs/_form.haml (147.9ms)
Rendered comments/_fields.haml (197.1ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__974048376__616758998_0 at /home/lee/dev/teambox/app/views/projects/index.haml:13)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_projects_index_haml__974048376__616758998_0 at /home/lee/dev/teambox/app/views/projects/index.haml:5)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mComment Load (0.5ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mWatcher Load (0.5ms)[0m  [1mSELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mComment Load (0.5ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mConversation Load (0.3ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)[0m
Rendered comments/_comment.haml (37.2ms)
Rendered activities/_thread_comments.haml (56.1ms)
Rendered google_docs/_form.haml (6.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.3ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered comments/_fields.haml (187.5ms)
Rendered activities/_thread.haml (351.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
Rendered activities/_create_project.haml (15.4ms)
Rendered activities/_show_more.haml (4.7ms)
Rendered shared/_collapse.haml (3.5ms)
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.5ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.5ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.3ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (7.3ms)
Rendered shared/_confirm_email.haml (10.4ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (148.4ms)
Rendered shared/_header.html.haml (164.7ms)
  [1m[35mPerson Load (0.4ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.5ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (26.3ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[35mProject Load (0.5ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.4ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered projects/index.haml within layouts/application (1704.1ms)
Completed 200 OK in 2851ms (Views: 1726.2ms | ActiveRecord: 199.5ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 21:30:10 +0800 2012


Started GET "/sprockets.js" for 127.0.0.1 at Wed Feb 15 21:30:12 +0800 2012
  Processing by SprocketsController#index as JS
Completed 304 Not Modified in 878ms


Started GET "/projects/new?extractparts=1" for 127.0.0.1 at Wed Feb 15 21:30:24 +0800 2012
  Processing by ProjectsController#new as JS
  Parameters: {"extractparts"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.5ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered projects/fields/_new.html.haml (24.2ms)
Rendered projects/new.html.haml within layouts/parts (58.4ms)
Completed 200 OK in 658ms (Views: 97.9ms | ActiveRecord: 1.5ms | Sphinx: 0.0ms)


Started GET "/organizations?extractparts=1" for 127.0.0.1 at Wed Feb 15 21:30:31 +0800 2012
  Processing by OrganizationsController#index as JS
  Parameters: {"extractparts"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mMembership Load (0.3ms)[0m  SELECT `memberships`.* FROM `memberships` WHERE `memberships`.`organization_id` = 1 AND (`memberships`.user_id = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM `projects` WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND (`projects`.organization_id = 1)[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `memberships` ON `users`.id = `memberships`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`memberships`.organization_id = 1)) ORDER BY users.updated_at DESC
Rendered organizations/_organization.haml (28.6ms)
Rendered organizations/index.haml within layouts/parts (48.6ms)
Completed 200 OK in 269ms (Views: 216.8ms | ActiveRecord: 2.4ms | Sphinx: 0.0ms)


Started GET "/projects/test/people?extractparts=1" for 127.0.0.1 at Wed Feb 15 21:30:56 +0800 2012
  Processing by PeopleController#index as JS
  Parameters: {"project_id"=>"test", "extractparts"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (1.4ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (7.3ms)
  [1m[35mOrganization Load (0.4ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (42.6ms)
  [1m[35mInvitation Load (0.4ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_invitation.haml (19.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC
Rendered people/_header.haml (19.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered people/_person.haml (32.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
Rendered people/index.haml within layouts/parts (794.7ms)
Completed 200 OK in 1090ms (Views: 818.2ms | ActiveRecord: 5.4ms | Sphinx: 0.0ms)


Started GET "/projects/test/people?extractparts=1" for 127.0.0.1 at Wed Feb 15 21:30:59 +0800 2012
  Processing by PeopleController#index as JS
  Parameters: {"project_id"=>"test", "extractparts"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_select_language.haml (7.0ms)
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
Rendered invitations/_new.haml (39.1ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (17.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (20.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (190.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
Rendered people/index.haml within layouts/parts (964.1ms)
Completed 200 OK in 1086ms (Views: 974.3ms | ActiveRecord: 1.9ms | Sphinx: 0.0ms)


Started POST "/projects/test/invitations" for 127.0.0.1 at Wed Feb 15 21:31:18 +0800 2012
  Processing by InvitationsController#create as HTML
  Parameters: {"project_id"=>"test", "authenticity_token"=>"fT2KSoKOPm7HCqQAe+/1xiDowTcFCZKMpUuUBDqliqc=", "commit"=>"邀请", "locale"=>"zh", "utf8"=>"✓", "invitation"=>{"user_or_email"=>"liwenjingabc@126.com", "membership"=>"10", "role"=>"3"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`email` = 'liwenjingabc@126.com' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT 1 FROM `invitations` WHERE `invitations`.`email` = 'liwenjingabc@126.com' AND `invitations`.`project_id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mdescribe `invitations`[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO `invitations` (`project_id`, `email`, `membership`, `deleted`, `invited_user_id`, `role`, `user_id`, `updated_at`, `token`, `created_at`) VALUES (1, 'liwenjingabc@126.com', 10, 0, NULL, 3, 1, '2012-02-15 13:31:21', '5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9', '2012-02-15 13:31:21')
  [1m[36mInvitation Load (0.6ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (3.6ms)
  [1m[35mInvitation Load (0.5ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (51.2ms)
Rendered emailer/_dont_answer.text.erb (0.6ms)
Rendered emailer/signup_invitation.text.erb (4.6ms)

Sent mail to liwenjingabc@126.com (45ms)
Date: Wed, 15 Feb 2012 21:31:21 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb3a9b715b_9b325217380785fb@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb3a9ac01f_9b325217380782b0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb3a9ac01f_9b325217380782b0
Date: Wed, 15 Feb 2012 21:31:21 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64
Content-ID: <4f3bb3a9b11f9_9b325217380783a1@lee-laptop.mail>

Ly8g6K+35LiN6KaB5Zue5aSN5q2k6YKu5Lu244CCCgoKVGVhbWJveOaYr+S4
gOS4queUqOS6juecn+WunuS4lueVjOWNj+S9nOeahOmhueebrueuoeeQhuW5
s+WPsOOAggrorqHliJLvvIzliIbkuqvlkozot5/ouKrpnIDopoHlgZrnmoTl
t6XkvZzjgILotrPlpJ/nroDljZXjgIIKCuadjiDmlofpnZnluIzmnJvpgJro
v4dUZWFtYm945LiO5oKo5Y2P5L2c77yaCuaCqOW3sue7j+iiq+mCgOivt+WK
oOWFpemhueebriZsdDtiJmd0O3Rlc3QmbHQ7L2ImZ3Q7CgoK5o6l5Y+X6YKA
6K+35byA5aeL5Y2P5L2cOgoKaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJz
L25ldz9pbnZpdGF0aW9uPTVhNTdmNTJkYjZmM2E1ZjNkNmI0YmZlZGE4NjMw
NmU5NGY1YjQxZTkKCgrmraTpobnnm67kuK3nmoTlvZPliY3nlKjmiLfliJfo
oajvvJo6IOadjiDmlofpnZkKCuatpOmCruS7tuW6lOaCqOeahOaci+WPi+im
geaxguiAjOWPkemAgee7meaCqOOAguWmguaciea7peeUqOivt+WPiuaXtuaK
peWRiuOAggo=


----==_mimepart_4f3bb3a9ac01f_9b325217380782b0
Date: Wed, 15 Feb 2012 21:31:21 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: base64
Content-ID: <4f3bb3a9b464b_9b3252173807849b@lee-laptop.mail>

PGRpdiBjbGFzcz0nZW1haWwnIHN0eWxlPSdmb250LXNpemU6IDE0cHg7IGNv
bG9yOiByZ2IoNTAsNTAsNTApOyBmb250LWZhbWlseTogSGVsdmV0aWNhLCBB
cmlhbDsgbWFyZ2luOiAyMHB4IDAnPgogIDxwIHN0eWxlPSdmb250LXNpemU6
IDEwcHg7IGNvbG9yOiByZ2IoMTAwLDEwMCwxMDApOyc+CiAgICDor7fkuI3o
poHlm57lpI3mraTpgq7ku7bjgIIKICA8L3A+CiAgPHA+VGVhbWJveOaYr+S4
gOS4queUqOS6juecn+WunuS4lueVjOWNj+S9nOeahOmhueebrueuoeeQhuW5
s+WPsOOAgjwvcD4KICA8cD7orqHliJLvvIzliIbkuqvlkozot5/ouKrpnIDo
poHlgZrnmoTlt6XkvZzjgILotrPlpJ/nroDljZXjgII8L3A+CiAgPGRpdiBj
bGFzcz0nYm94JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwy
NTUsMjIwKTsgYm9yZGVyOiAxcHggcmdiKDIyMCwyMjAsMTUwKSBzb2xpZDtw
YWRkaW5nOiA1cHggMTBweDsgbWFyZ2luOiAyMHB4IDA7Jz4KICAgIDxwPuad
jiDmlofpnZnluIzmnJvpgJrov4dUZWFtYm945LiO5oKo5Y2P5L2c77yaPC9w
PgogICAgPHAgc3R5bGU9J2ZvbnQtc2l6ZTogMThweDsgY29sb3I6IHJnYigw
LDAsMCk7Jz4KICAgICAg5oKo5bey57uP6KKr6YKA6K+35Yqg5YWl6aG555uu
PGI+PGI+dGVzdDwvYj48L2I+CiAgICA8L3A+CiAgICA8aDIgc3R5bGU9J2Zv
bnQtc2l6ZTogMThweDsgY29sb3I6IHJnYigwLDAsMCk7Jz4KICAgICAgPGEg
aHJlZj0iaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL25ldz9pbnZpdGF0
aW9uPTVhNTdmNTJkYjZmM2E1ZjNkNmI0YmZlZGE4NjMwNmU5NGY1YjQxZTki
PuaOpeWPl+mCgOivt+W8gOWni+WNj+S9nDwvYT4KICAgIDwvaDI+CiAgICA8
cD4KICAgICAgPHN0cm9uZz4KICAgICAgICDmraTpobnnm67kuK3nmoTlvZPl
iY3nlKjmiLfliJfooajvvJoKICAgICAgPC9zdHJvbmc+CiAgICAgIOadjiDm
lofpnZkKICAgIDwvcD4KICA8L2Rpdj4KICA8cCBzdHlsZT0nZm9udC1zaXpl
OiAxMHB4OyBjb2xvcjogcmdiKDEwMCwxMDAsMTAwKTsnPgogICAg5aaC5p6c
5Lul5LiK6ZO+5o6l5LiN6IO95bel5L2c77yM5aSN5Yi25bm257KY6LS05Lul
5LiL5Luj56CB5Yiw5oKo55qE5rWP6KeI5Zmo5Zyw5Z2A5qCP77yaCiAgICA8
YnI+CiAgICA8YSBocmVmPSJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMv
bmV3P2ludml0YXRpb249NWE1N2Y1MmRiNmYzYTVmM2Q2YjRiZmVkYTg2MzA2
ZTk0ZjViNDFlOSI+aHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL25ldz9p
bnZpdGF0aW9uPTVhNTdmNTJkYjZmM2E1ZjNkNmI0YmZlZGE4NjMwNmU5NGY1
YjQxZTk8L2E+CiAgPC9wPgogIDxkaXYgY2xhc3M9J2Zvb3Rlcicgc3R5bGU9
J2ZvbnQtc2l6ZTogMTBweDsgY29sb3I6IHJnYigxMDAsMTAwLDEwMCk7Jz4K
ICAgIDxwPuatpOmCruS7tuW6lOaCqOeahOaci+WPi+imgeaxguiAjOWPkemA
gee7meaCqOOAguWmguaciea7peeUqOivt+WPiuaXtuaKpeWRiuOAgjwvcD4K
ICA8L2Rpdj4KPC9kaXY+Cg==


----==_mimepart_4f3bb3a9ac01f_9b325217380782b0--
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `settings` = '{\"stats\":{\"conversations\":1,\"projects\":1,\"invites\":2},\"badges\":[\"first_project\",\"first_invite\",\"first_conversation\"],\"collapse_activities\":false}' WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0))
  [1m[36mSQL (70.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 1177ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:31:21 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (1.5ms)[0m  [1mSELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_select_language.haml (6.5ms)
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
Rendered invitations/_new.haml (39.2ms)
  [1m[36mInvitation Load (0.4ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_invitation.haml (24.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC
Rendered people/_header.haml (18.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered people/_person.haml (32.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mProject Load (0.5ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.2ms)
Rendered shared/_confirm_email.haml (5.1ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (11.2ms)
Rendered shared/_header.html.haml (19.3ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (19.6ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mSQL (0.7ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered people/index.haml within layouts/application (1075.4ms)
Completed 200 OK in 1381ms (Views: 1082.2ms | ActiveRecord: 6.7ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 21:31:25 +0800 2012


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:32:56 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mInvitation Load (0.3ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Rendered emailer/_dont_answer.html.haml (1.9ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC
Rendered emailer/signup_invitation.html.haml (22.4ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.1ms)

Sent mail to liwenjingabc@126.com (24ms)
Date: Wed, 15 Feb 2012 21:32:58 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb40ae8708_9b325483e20789a8@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb40ae2c6d_9b325483e20786ee";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb40ae2c6d_9b325483e20786ee
Date: Wed, 15 Feb 2012 21:32:58 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: base64
Content-ID: <4f3bb40ae622c_9b325483e2078787@lee-laptop.mail>

Ly8g6K+35LiN6KaB5Zue5aSN5q2k6YKu5Lu244CCCgoKVGVhbWJveOaYr+S4
gOS4queUqOS6juecn+WunuS4lueVjOWNj+S9nOeahOmhueebrueuoeeQhuW5
s+WPsOOAggrorqHliJLvvIzliIbkuqvlkozot5/ouKrpnIDopoHlgZrnmoTl
t6XkvZzjgILotrPlpJ/nroDljZXjgIIKCuadjiDmlofpnZnluIzmnJvpgJro
v4dUZWFtYm945LiO5oKo5Y2P5L2c77yaCuaCqOW3sue7j+iiq+mCgOivt+WK
oOWFpemhueebriZsdDtiJmd0O3Rlc3QmbHQ7L2ImZ3Q7CgoK5o6l5Y+X6YKA
6K+35byA5aeL5Y2P5L2cOgoKaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJz
L25ldz9pbnZpdGF0aW9uPTVhNTdmNTJkYjZmM2E1ZjNkNmI0YmZlZGE4NjMw
NmU5NGY1YjQxZTkKCgrmraTpobnnm67kuK3nmoTlvZPliY3nlKjmiLfliJfo
oajvvJo6IOadjiDmlofpnZkKCuatpOmCruS7tuW6lOaCqOeahOaci+WPi+im
geaxguiAjOWPkemAgee7meaCqOOAguWmguaciea7peeUqOivt+WPiuaXtuaK
peWRiuOAggo=


----==_mimepart_4f3bb40ae2c6d_9b325483e20786ee
Date: Wed, 15 Feb 2012 21:32:58 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: base64
Content-ID: <4f3bb40ae75cd_9b325483e20788f2@lee-laptop.mail>

PGRpdiBjbGFzcz0nZW1haWwnIHN0eWxlPSdmb250LXNpemU6IDE0cHg7IGNv
bG9yOiByZ2IoNTAsNTAsNTApOyBmb250LWZhbWlseTogSGVsdmV0aWNhLCBB
cmlhbDsgbWFyZ2luOiAyMHB4IDAnPgogIDxwIHN0eWxlPSdmb250LXNpemU6
IDEwcHg7IGNvbG9yOiByZ2IoMTAwLDEwMCwxMDApOyc+CiAgICDor7fkuI3o
poHlm57lpI3mraTpgq7ku7bjgIIKICA8L3A+CiAgPHA+VGVhbWJveOaYr+S4
gOS4queUqOS6juecn+WunuS4lueVjOWNj+S9nOeahOmhueebrueuoeeQhuW5
s+WPsOOAgjwvcD4KICA8cD7orqHliJLvvIzliIbkuqvlkozot5/ouKrpnIDo
poHlgZrnmoTlt6XkvZzjgILotrPlpJ/nroDljZXjgII8L3A+CiAgPGRpdiBj
bGFzcz0nYm94JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwy
NTUsMjIwKTsgYm9yZGVyOiAxcHggcmdiKDIyMCwyMjAsMTUwKSBzb2xpZDtw
YWRkaW5nOiA1cHggMTBweDsgbWFyZ2luOiAyMHB4IDA7Jz4KICAgIDxwPuad
jiDmlofpnZnluIzmnJvpgJrov4dUZWFtYm945LiO5oKo5Y2P5L2c77yaPC9w
PgogICAgPHAgc3R5bGU9J2ZvbnQtc2l6ZTogMThweDsgY29sb3I6IHJnYigw
LDAsMCk7Jz4KICAgICAg5oKo5bey57uP6KKr6YKA6K+35Yqg5YWl6aG555uu
PGI+PGI+dGVzdDwvYj48L2I+CiAgICA8L3A+CiAgICA8aDIgc3R5bGU9J2Zv
bnQtc2l6ZTogMThweDsgY29sb3I6IHJnYigwLDAsMCk7Jz4KICAgICAgPGEg
aHJlZj0iaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL25ldz9pbnZpdGF0
aW9uPTVhNTdmNTJkYjZmM2E1ZjNkNmI0YmZlZGE4NjMwNmU5NGY1YjQxZTki
PuaOpeWPl+mCgOivt+W8gOWni+WNj+S9nDwvYT4KICAgIDwvaDI+CiAgICA8
cD4KICAgICAgPHN0cm9uZz4KICAgICAgICDmraTpobnnm67kuK3nmoTlvZPl
iY3nlKjmiLfliJfooajvvJoKICAgICAgPC9zdHJvbmc+CiAgICAgIOadjiDm
lofpnZkKICAgIDwvcD4KICA8L2Rpdj4KICA8cCBzdHlsZT0nZm9udC1zaXpl
OiAxMHB4OyBjb2xvcjogcmdiKDEwMCwxMDAsMTAwKTsnPgogICAg5aaC5p6c
5Lul5LiK6ZO+5o6l5LiN6IO95bel5L2c77yM5aSN5Yi25bm257KY6LS05Lul
5LiL5Luj56CB5Yiw5oKo55qE5rWP6KeI5Zmo5Zyw5Z2A5qCP77yaCiAgICA8
YnI+CiAgICA8YSBocmVmPSJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMv
bmV3P2ludml0YXRpb249NWE1N2Y1MmRiNmYzYTVmM2Q2YjRiZmVkYTg2MzA2
ZTk0ZjViNDFlOSI+aHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzL25ldz9p
bnZpdGF0aW9uPTVhNTdmNTJkYjZmM2E1ZjNkNmI0YmZlZGE4NjMwNmU5NGY1
YjQxZTk8L2E+CiAgPC9wPgogIDxkaXYgY2xhc3M9J2Zvb3Rlcicgc3R5bGU9
J2ZvbnQtc2l6ZTogMTBweDsgY29sb3I6IHJnYigxMDAsMTAwLDEwMCk7Jz4K
ICAgIDxwPuatpOmCruS7tuW6lOaCqOeahOaci+WPi+imgeaxguiAjOWPkemA
gee7meaCqOOAguWmguaciea7peeUqOivt+WPiuaXtuaKpeWRiuOAgjwvcD4K
ICA8L2Rpdj4KPC9kaXY+Cg==


----==_mimepart_4f3bb40ae2c6d_9b325483e20786ee--
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 768ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:32:59 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_select_language.haml (6.2ms)
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
Rendered invitations/_new.haml (37.1ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_invitation.haml (24.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC
Rendered people/_header.haml (187.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered people/_person.haml (199.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.1ms)
Rendered shared/_confirm_email.haml (4.6ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (9.9ms)
Rendered shared/_header.html.haml (17.5ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (19.9ms)
Rendered shared/_footer.haml (3.8ms)
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered people/index.haml within layouts/application (1104.7ms)
Completed 200 OK in 1243ms (Views: 1113.9ms | ActiveRecord: 3.0ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 21:33:02 +0800 2012


Started GET "/account/settings" for 127.0.0.1 at Wed Feb 15 21:33:51 +0800 2012
  Processing by UsersController#edit as HTML
  Parameters: {"sub_action"=>"settings"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
Rendered shared/_user_navigation.erb (11.5ms)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_settings.haml (1180.2ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.9ms)
Rendered shared/_confirm_email.haml (5.3ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (26.9ms)
Rendered shared/_header.html.haml (43.0ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (22.6ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered users/edit.haml within layouts/application (1548.5ms)
Completed 200 OK in 1631ms (Views: 1576.8ms | ActiveRecord: 1.6ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 21:33:54 +0800 2012


Started POST "/users/0612800232" for 127.0.0.1 at Wed Feb 15 21:34:05 +0800 2012
  Processing by UsersController#update as HTML
  Parameters: {"sub_action"=>"settings", "user"=>{"auto_accept_invites"=>"1", "first_day_of_week"=>"sunday", "show_badges"=>"0", "old_password"=>"[FILTERED]", "keyboard_shortcuts"=>"0", "login"=>"0612800232", "password_confirmation"=>"[FILTERED]", "locale"=>"en", "betatester"=>"0", "email"=>"liwenjingabc@gmail.com", "time_zone"=>"Beijing", "password"=>"[FILTERED]"}, "authenticity_token"=>"fT2KSoKOPm7HCqQAe+/1xiDowTcFCZKMpUuUBDqliqc=", "commit"=>"更新帐号", "utf8"=>"✓", "id"=>"0612800232"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`login`) = LOWER('0612800232')) AND (`users`.id <> 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('liwenjingabc@gmail.com')) AND (`users`.id <> 1) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `users` SET `locale` = 'en', `recent_projects_ids` = '--- \n- 1\n', `updated_at` = '2012-02-15 13:34:07', `settings` = '{\"show_badges\":false,\"stats\":{\"conversations\":1,\"projects\":1,\"invites\":2},\"keyboard_shortcuts\":false,\"badges\":[\"first_project\",\"first_invite\",\"first_conversation\"],\"collapse_activities\":false}' WHERE `users`.`id` = 1[0m
[paperclip] Saving attachments.
  [1m[35mSQL (65.9ms)[0m  COMMIT
Redirected to http://localhost:3000/account/settings
Completed 302 Found in 145ms


Started GET "/account/settings" for 127.0.0.1 at Wed Feb 15 21:34:08 +0800 2012
  Processing by UsersController#edit as HTML
  Parameters: {"sub_action"=>"settings"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
Rendered shared/_user_navigation.erb (6.9ms)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_settings.haml (37.8ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.1ms)
Rendered shared/_confirm_email.haml (4.9ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (209.1ms)
Rendered shared/_header.html.haml (224.9ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (22.7ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mSQL (0.5ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered users/edit.haml within layouts/application (397.3ms)
Completed 200 OK in 644ms (Views: 406.9ms | ActiveRecord: 3.0ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 21:34:10 +0800 2012


Started GET "/projects/test/people?extractparts=1" for 127.0.0.1 at Wed Feb 15 21:34:21 +0800 2012
  Processing by PeopleController#index as JS
  Parameters: {"project_id"=>"test", "extractparts"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (1.4ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (6.5ms)
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (38.1ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (24.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (18.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (31.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
Rendered people/index.haml within layouts/parts (832.3ms)
Completed 200 OK in 1130ms (Views: 841.2ms | ActiveRecord: 4.3ms | Sphinx: 0.0ms)


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:34:28 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mInvitation Load (0.2ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Rendered emailer/_dont_answer.html.haml (1.9ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC
Rendered emailer/signup_invitation.html.haml (22.8ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.0ms)

Sent mail to liwenjingabc@126.com (22ms)
Date: Wed, 15 Feb 2012 21:34:31 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb4675cbd1_9b3252bf1b6793c0@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb467575d1_9b3252bf1b679097";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb467575d1_9b3252bf1b679097
Date: Wed, 15 Feb 2012 21:34:31 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb4675ab77_9b3252bf1b6791df@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3D5a57f52db6f3a5f3d6b4bfeda863=
06e94f5b41e9


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bb467575d1_9b3252bf1b679097
Date: Wed, 15 Feb 2012 21:34:31 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb4675bcb4_9b3252bf1b679262@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f=
3a5f3d6b4bfeda86306e94f5b41e9">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f3a=
5f3d6b4bfeda86306e94f5b41e9">http://localhost:3000/users/new?invitation=3D=
5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bb467575d1_9b3252bf1b679097--
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 843ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:34:31 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_select_language.haml (6.5ms)
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
Rendered invitations/_new.haml (38.4ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_invitation.haml (25.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC
Rendered people/_header.haml (19.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered people/_person.haml (212.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.2ms)
Rendered shared/_confirm_email.haml (4.9ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (9.9ms)
Rendered shared/_header.html.haml (17.6ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (18.7ms)
Rendered shared/_footer.haml (3.6ms)
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered people/index.haml within layouts/application (1159.3ms)
Completed 200 OK in 1286ms (Views: 1168.6ms | ActiveRecord: 2.8ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 21:34:35 +0800 2012


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:41:29 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Rendered emailer/_dont_answer.html.haml (2.2ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC
Rendered emailer/signup_invitation.html.haml (24.4ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.3ms)

Sent mail to liwenjingabc@126.com (25ms)
Date: Wed, 15 Feb 2012 21:41:33 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb60d5356_9b3254e399279779@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb60cf3354_9b3254e3992794f0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb60cf3354_9b3254e3992794f0
Date: Wed, 15 Feb 2012 21:41:33 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb60d2bda_9b3254e39927955a@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3D5a57f52db6f3a5f3d6b4bfeda863=
06e94f5b41e9


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bb60cf3354_9b3254e3992794f0
Date: Wed, 15 Feb 2012 21:41:33 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb60d4062_9b3254e399279694@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f=
3a5f3d6b4bfeda86306e94f5b41e9">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f3a=
5f3d6b4bfeda86306e94f5b41e9">http://localhost:3000/users/new?invitation=3D=
5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bb60cf3354_9b3254e3992794f0--
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 851ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:41:33 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.2ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_select_language.haml (7.1ms)
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
Rendered invitations/_new.haml (42.0ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_invitation.haml (226.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC
Rendered people/_header.haml (20.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered people/_person.haml (34.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.6ms)
Rendered shared/_confirm_email.haml (4.8ms)
Rendered shared/_search_bar.haml (2.3ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (10.6ms)
Rendered shared/_header.html.haml (18.9ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (237.4ms)
Rendered shared/_footer.haml (4.7ms)
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered people/index.haml within layouts/application (1475.2ms)
Completed 200 OK in 1627ms (Views: 1485.8ms | ActiveRecord: 3.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 21:41:37 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:48:31 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (5.9ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (27.6ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.5ms)

Sent mail to liwenjingabc@126.com (57ms)
Date: Wed, 15 Feb 2012 21:48:33 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb7b1f0c1_131324dfe33428037@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb7b1d69_131324dfe334277dd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb7b1d69_131324dfe334277dd
Date: Wed, 15 Feb 2012 21:48:33 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb7b1863e_131324dfe334278e@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3D5a57f52db6f3a5f3d6b4bfeda863=
06e94f5b41e9


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bb7b1d69_131324dfe334277dd
Date: Wed, 15 Feb 2012 21:48:33 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb7b1c9ef_131324dfe334279a0@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f=
3a5f3d6b4bfeda86306e94f5b41e9">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f3a=
5f3d6b4bfeda86306e94f5b41e9">http://localhost:3000/users/new?invitation=3D=
5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bb7b1d69_131324dfe334277dd--
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 904ms


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:48:33 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (1.4ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Rendered emailer/_dont_answer.html.haml (1.9ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC
Rendered emailer/signup_invitation.html.haml (22.0ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.3ms)

Sent mail to liwenjingabc@126.com (22ms)
Date: Wed, 15 Feb 2012 21:48:35 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb7b38fda9_1313249e267e2844e@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb7b38a6f2_1313249e267e281e2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb7b38a6f2_1313249e267e281e2
Date: Wed, 15 Feb 2012 21:48:35 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb7b38dd34_1313249e267e282be@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3D5a57f52db6f3a5f3d6b4bfeda863=
06e94f5b41e9


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bb7b38a6f2_1313249e267e281e2
Date: Wed, 15 Feb 2012 21:48:35 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb7b38ee7b_1313249e267e2839a@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f=
3a5f3d6b4bfeda86306e94f5b41e9">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f3a=
5f3d6b4bfeda86306e94f5b41e9">http://localhost:3000/users/new?invitation=3D=
5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bb7b38a6f2_1313249e267e281e2--
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 692ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:48:35 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_select_language.haml (6.9ms)
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
Rendered invitations/_new.haml (37.9ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_invitation.haml (24.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC
Rendered people/_header.haml (18.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered people/_person.haml (31.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (5.0ms)
Rendered shared/_confirm_email.haml (5.3ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (11.3ms)
Rendered shared/_header.html.haml (20.2ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (19.6ms)
Rendered shared/_footer.haml (3.8ms)
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered people/index.haml within layouts/application (1155.2ms)
Completed 200 OK in 1457ms (Views: 1164.2ms | ActiveRecord: 2.7ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 21:48:38 +0800 2012


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:51:03 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Rendered emailer/_dont_answer.html.haml (1.7ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC
Rendered emailer/signup_invitation.html.haml (21.7ms)
Rendered emailer/_dont_answer.text.erb (0.4ms)
Rendered emailer/signup_invitation.text.erb (3.9ms)

Sent mail to liwenjingabc@126.com (23ms)
Date: Wed, 15 Feb 2012 21:51:05 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb849ac134_1313253567c8288dc@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb849a67a1_1313253567c8285cc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb849a67a1_1313253567c8285cc
Date: Wed, 15 Feb 2012 21:51:05 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb849a9ea9_1313253567c8286c3@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3D5a57f52db6f3a5f3d6b4bfeda863=
06e94f5b41e9


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bb849a67a1_1313253567c8285cc
Date: Wed, 15 Feb 2012 21:51:05 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb849ab096_1313253567c828721@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f=
3a5f3d6b4bfeda86306e94f5b41e9">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f3a=
5f3d6b4bfeda86306e94f5b41e9">http://localhost:3000/users/new?invitation=3D=
5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bb849a67a1_1313253567c8285cc--
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 720ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:51:05 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_select_language.haml (6.0ms)
  [1m[36mOrganization Load (0.1ms)[0m  [1mSELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)
Rendered invitations/_new.haml (35.8ms)
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_invitation.haml (24.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC
Rendered people/_header.haml (171.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered people/_person.haml (183.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (3.9ms)
Rendered shared/_confirm_email.haml (4.4ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (9.4ms)
Rendered shared/_header.html.haml (17.2ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (20.3ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mSQL (0.1ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered people/index.haml within layouts/application (1049.3ms)
Completed 200 OK in 1168ms (Views: 1058.4ms | ActiveRecord: 2.9ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 21:51:08 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:53:07 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"id"=>"2", "project_id"=>"test"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (6.1ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (27.2ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.4ms)

Sent mail to liwenjingabc@126.com (47ms)
Date: Wed, 15 Feb 2012 21:53:09 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bb8c52db94_138324eebd5a967c@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bb8c5221d2_138324eebd5a935b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bb8c5221d2_138324eebd5a935b
Date: Wed, 15 Feb 2012 21:53:09 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb8c5280ee_138324eebd5a94a3@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3D5a57f52db6f3a5f3d6b4bfeda863=
06e94f5b41e9


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bb8c5221d2_138324eebd5a935b
Date: Wed, 15 Feb 2012 21:53:09 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bb8c52b42d_138324eebd5a957@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f=
3a5f3d6b4bfeda86306e94f5b41e9">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f3a=
5f3d6b4bfeda86306e94f5b41e9">http://localhost:3000/users/new?invitation=3D=
5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bb8c5221d2_138324eebd5a935b--
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 900ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:53:09 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (0.2ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (7.3ms)
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (38.9ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (25.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (147.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (160.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.6ms)
Rendered shared/_confirm_email.haml (5.0ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (10.7ms)
Rendered shared/_header.html.haml (18.7ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (19.9ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered people/index.haml within layouts/application (1045.1ms)
Completed 200 OK in 1171ms (Views: 1054.3ms | ActiveRecord: 2.9ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 21:53:12 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/projects/test/invitations/2/resend" for 127.0.0.1 at Wed Feb 15 21:58:47 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.2ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 2 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (5.8ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (26.7ms)
Rendered emailer/_dont_answer.text.erb (0.4ms)
Rendered emailer/signup_invitation.text.erb (4.0ms)

Sent mail to liwenjingabc@126.com (47ms)
Date: Wed, 15 Feb 2012 21:58:48 +0800
From: Teambox <no-reply@gmail.com>
Reply-To: liwenjingabc@gmail.com
To: liwenjingabc@126.com
Message-ID: <4f3bba18c1659_13fc24dfb3b455643@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bba18b5e86_13fc24dfb3b4553fd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bba18b5e86_13fc24dfb3b4553fd
Date: Wed, 15 Feb 2012 21:58:48 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bba18bb9cd_13fc24dfb3b455480@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3D5a57f52db6f3a5f3d6b4bfeda863=
06e94f5b41e9


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bba18b5e86_13fc24dfb3b4553fd
Date: Wed, 15 Feb 2012 21:58:48 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bba18bee2a_13fc24dfb3b455530@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f=
3a5f3d6b4bfeda86306e94f5b41e9">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3D5a57f52db6f3a=
5f3d6b4bfeda86306e94f5b41e9">http://localhost:3000/users/new?invitation=3D=
5a57f52db6f3a5f3d6b4bfeda86306e94f5b41e9</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bba18b5e86_13fc24dfb3b4553fd--
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 888ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 21:58:48 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (0.2ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (7.1ms)
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (39.3ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (25.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (151.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (165.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.5ms)
Rendered shared/_confirm_email.haml (5.5ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (13.1ms)
Rendered shared/_header.html.haml (21.6ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (21.3ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered people/index.haml within layouts/application (1068.9ms)
Completed 200 OK in 1190ms (Views: 1077.7ms | ActiveRecord: 2.9ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 21:58:51 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/projects/test/invitations/1/resend" for 127.0.0.1 at Wed Feb 15 22:01:43 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mInvitation Load (0.3ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (5.8ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (26.4ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.0ms)

Sent mail to 690294000@qq.com (46ms)
Date: Wed, 15 Feb 2012 22:01:45 +0800
From: Teambox <no-reply@126.com>
Reply-To: liwenjingabc@gmail.com
To: 690294000@qq.com
Message-ID: <4f3bbac93701_145d24e4ac0210ef@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bbac8ec219_145d24e4ac0277e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bbac8ec219_145d24e4ac0277e
Date: Wed, 15 Feb 2012 22:01:45 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbac8f1e07_145d24e4ac02851@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3Dadfded87ba1306095f1c6c55456a=
7d31a1006110


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bbac8ec219_145d24e4ac0277e
Date: Wed, 15 Feb 2012 22:01:45 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbac9d8d_145d24e4ac02974@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba1=
306095f1c6c55456a7d31a1006110">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba130=
6095f1c6c55456a7d31a1006110">http://localhost:3000/users/new?invitation=3D=
adfded87ba1306095f1c6c55456a7d31a1006110</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bbac8ec219_145d24e4ac0277e--
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 903ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 22:01:45 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (0.2ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (7.1ms)
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (38.6ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (26.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (162.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (175.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.7ms)
Rendered shared/_confirm_email.haml (5.1ms)
Rendered shared/_search_bar.haml (2.2ms)
  [1m[35mSQL (1.2ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (11.6ms)
Rendered shared/_header.html.haml (19.7ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (20.0ms)
Rendered shared/_footer.haml (3.9ms)
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered people/index.haml within layouts/application (1068.3ms)
Completed 200 OK in 1192ms (Views: 1076.4ms | ActiveRecord: 4.1ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 22:01:48 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1mSHOW TABLES[0m


Started GET "/projects/test/invitations/1/resend" for 127.0.0.1 at Wed Feb 15 22:03:10 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mInvitation Load (0.2ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (5.9ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (26.5ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.3ms)

Sent mail to 690294000@qq.com (49ms)
Date: Wed, 15 Feb 2012 22:03:11 +0800
From: Teambox <no-reply@126.com>
Reply-To: liwenjingabc@gmail.com
To: 690294000@qq.com
Message-ID: <4f3bbb1faef05_149024e33408782ad@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bbb1fa2fb2_149024e334087799b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bbb1fa2fb2_149024e334087799b
Date: Wed, 15 Feb 2012 22:03:11 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbb1fa8ea7_149024e334087808f@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3Dadfded87ba1306095f1c6c55456a=
7d31a1006110


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bbb1fa2fb2_149024e334087799b
Date: Wed, 15 Feb 2012 22:03:11 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbb1fac687_149024e3340878120@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba1=
306095f1c6c55456a7d31a1006110">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba130=
6095f1c6c55456a7d31a1006110">http://localhost:3000/users/new?invitation=3D=
adfded87ba1306095f1c6c55456a7d31a1006110</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bbb1fa2fb2_149024e334087799b--
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 907ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 22:03:11 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (0.2ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (6.9ms)
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (39.3ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (25.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (150.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (164.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.6ms)
Rendered shared/_confirm_email.haml (5.5ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (11.3ms)
Rendered shared/_header.html.haml (20.1ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (21.6ms)
Rendered shared/_footer.haml (4.2ms)
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered people/index.haml within layouts/application (1069.9ms)
Completed 200 OK in 1192ms (Views: 1078.9ms | ActiveRecord: 3.2ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 22:03:14 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m


Started GET "/projects/test/invitations/1/resend" for 127.0.0.1 at Wed Feb 15 22:06:30 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"id"=>"1", "project_id"=>"test"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (5.9ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (27.2ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.0ms)

Sent mail to 690294000@qq.com (48ms)
Date: Wed, 15 Feb 2012 22:06:32 +0800
From: Teambox <no-reply@126.com>
Reply-To: liwenjingabc@gmail.com
To: 690294000@qq.com
Message-ID: <4f3bbbe851210_152e24ecbc2647985@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bbbe845919_152e24ecbc2647697";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bbbe845919_152e24ecbc2647697
Date: Wed, 15 Feb 2012 22:06:32 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbbe84b5f4_152e24ecbc26477d2@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3Dadfded87ba1306095f1c6c55456a=
7d31a1006110


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bbbe845919_152e24ecbc2647697
Date: Wed, 15 Feb 2012 22:06:32 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbbe84e834_152e24ecbc264789c@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba1=
306095f1c6c55456a7d31a1006110">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba130=
6095f1c6c55456a7d31a1006110">http://localhost:3000/users/new?invitation=3D=
adfded87ba1306095f1c6c55456a7d31a1006110</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bbbe845919_152e24ecbc2647697--
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 866ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 22:06:32 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (0.2ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (8.4ms)
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (42.5ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (25.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (155.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (168.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.5ms)
Rendered shared/_confirm_email.haml (5.5ms)
Rendered shared/_search_bar.haml (2.5ms)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (10.6ms)
Rendered shared/_header.html.haml (19.9ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (20.2ms)
Rendered shared/_footer.haml (4.0ms)
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered people/index.haml within layouts/application (1080.2ms)
Completed 200 OK in 1201ms (Views: 1088.8ms | ActiveRecord: 3.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 22:06:35 +0800 2012
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /home/lee/dev/teambox/config/environment.rb:5)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m


Started GET "/projects/test/invitations/1/resend" for 127.0.0.1 at Wed Feb 15 22:11:46 +0800 2012
  Processing by InvitationsController#resend as HTML
  Parameters: {"project_id"=>"test", "id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mInvitation Load (0.1ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `invitations`.* FROM `invitations` WHERE `invitations`.`id` = 1 AND ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered emailer/_dont_answer.html.haml (5.8ms)
  [1m[35mInvitation Load (0.2ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY users.updated_at DESC[0m
Rendered emailer/signup_invitation.html.haml (26.7ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/signup_invitation.text.erb (4.4ms)

Sent mail to 690294000@qq.com (46ms)
Date: Wed, 15 Feb 2012 22:11:48 +0800
From: Teambox <no-reply@mail.126.com>
Reply-To: liwenjingabc@gmail.com
To: 690294000@qq.com
Message-ID: <4f3bbd2424b90_159b24df88f89459e@lee-laptop.mail>
Subject: =?UTF-8?Q?=E6=9D=8E_=E6=96=87=E9=9D=99_shared_[test]_with_you?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bbd24196ad_159b24df88f8942a1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bbd24196ad_159b24df88f8942a1
Date: Wed, 15 Feb 2012 22:11:48 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbd241f161_159b24df88f8943b7@lee-laptop.mail>

// Do not reply to this email.


Teambox is a project management platform made for real-world collaboratio=
n.
Plan, share and keep track of what's been done. Simple as it should be.

=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Teambox:
You have been invited to the project test


Accept the invitation to start collaborating:

http://localhost:3000/users/new?invitation=3Dadfded87ba1306095f1c6c55456a=
7d31a1006110


Current users in this project:: =E6=9D=8E =E6=96=87=E9=9D=99

This email was sent to you at your contact's request. Please report any a=
buse.


----==_mimepart_4f3bbd24196ad_159b24df88f8942a1
Date: Wed, 15 Feb 2012 22:11:48 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbd24224dd_159b24df88f8944fb@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Teambox is a project management platform made for real-world collabo=
ration.</p>
  <p>Plan, share and keep track of what's been done. Simple as it should =
be.</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>=E6=9D=8E =E6=96=87=E9=9D=99 wants to collaborate with you on Team=
box:</p>
    <p style=3D'font-size: 18px; color: rgb(0,0,0);'>
      You have been invited to the project <b>test</b>
    </p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba1=
306095f1c6c55456a7d31a1006110">Accept the invitation to start collaborati=
ng</a>
    </h2>
    <p>
      <strong>
        Current users in this project:
      </strong>
      =E6=9D=8E =E6=96=87=E9=9D=99
    </p>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If the above link doesn't work, copy and paste the following code int=
o your browser bar:
    <br>
    <a href=3D"http://localhost:3000/users/new?invitation=3Dadfded87ba130=
6095f1c6c55456a7d31a1006110">http://localhost:3000/users/new?invitation=3D=
adfded87ba1306095f1c6c55456a7d31a1006110</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>This email was sent to you at your contact's request. Please repor=
t any abuse.</p>
  </div>
</div>


----==_mimepart_4f3bbd24196ad_159b24df88f8942a1--
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
Redirected to http://localhost:3000/projects/test/people
Completed 302 Found in 883ms


Started GET "/projects/test/people" for 127.0.0.1 at Wed Feb 15 22:11:48 +0800 2012
  Processing by PeopleController#index as HTML
  Parameters: {"project_id"=>"test"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`permalink` = 'test' AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC LIMIT 1[0m
  [1m[35mPerson Load (0.2ms)[0m  SELECT `people`.`id` AS t0_r0, `people`.`user_id` AS t0_r1, `people`.`project_id` AS t0_r2, `people`.`source_user_id` AS t0_r3, `people`.`permissions` AS t0_r4, `people`.`role` AS t0_r5, `people`.`created_at` AS t0_r6, `people`.`updated_at` AS t0_r7, `people`.`deleted` AS t0_r8, `people`.`digest` AS t0_r9, `people`.`last_digest_delivery` AS t0_r10, `people`.`next_digest_delivery` AS t0_r11, `people`.`watch_new_task` AS t0_r12, `people`.`watch_new_conversation` AS t0_r13, `people`.`watch_new_page` AS t0_r14, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`first_name` AS t1_r2, `users`.`last_name` AS t1_r3, `users`.`biography` AS t1_r4, `users`.`email` AS t1_r5, `users`.`crypted_password` AS t1_r6, `users`.`salt` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`time_zone` AS t1_r10, `users`.`locale` AS t1_r11, `users`.`first_day_of_week` AS t1_r12, `users`.`invitations_count` AS t1_r13, `users`.`login_token` AS t1_r14, `users`.`login_token_expires_at` AS t1_r15, `users`.`confirmed_user` AS t1_r16, `users`.`rss_token` AS t1_r17, `users`.`admin` AS t1_r18, `users`.`comments_count` AS t1_r19, `users`.`notify_mentions` AS t1_r20, `users`.`notify_conversations` AS t1_r21, `users`.`notify_tasks` AS t1_r22, `users`.`avatar_file_name` AS t1_r23, `users`.`avatar_content_type` AS t1_r24, `users`.`avatar_file_size` AS t1_r25, `users`.`invited_by_id` AS t1_r26, `users`.`invited_count` AS t1_r27, `users`.`created_at` AS t1_r28, `users`.`updated_at` AS t1_r29, `users`.`wants_task_reminder` AS t1_r30, `users`.`recent_projects_ids` AS t1_r31, `users`.`feature_level` AS t1_r32, `users`.`spreedly_token` AS t1_r33, `users`.`avatar_updated_at` AS t1_r34, `users`.`visited_at` AS t1_r35, `users`.`betatester` AS t1_r36, `users`.`splash_screen` AS t1_r37, `users`.`assigned_tasks_count` AS t1_r38, `users`.`completed_tasks_count` AS t1_r39, `users`.`deleted` AS t1_r40, `users`.`settings` AS t1_r41, `users`.`digest_delivery_hour` AS t1_r42, `users`.`instant_notification_on_mention` AS t1_r43, `users`.`default_digest` AS t1_r44, `users`.`default_watch_new_task` AS t1_r45, `users`.`default_watch_new_conversation` AS t1_r46, `users`.`default_watch_new_page` AS t1_r47, `users`.`notify_pages` AS t1_r48, `users`.`google_calendar_url_token` AS t1_r49, `users`.`auto_accept_invites` AS t1_r50 FROM `people` LEFT OUTER JOIN `users` ON `users`.`id` = `people`.`user_id` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) ORDER BY users.first_name ASC
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
Rendered invitations/_select_language.haml (7.0ms)
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` WHERE `organizations`.`id` = 1 AND ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `memberships` WHERE `memberships`.`role` = 30 AND `memberships`.`user_id` = 1 AND (`memberships`.organization_id = 1)[0m
Rendered invitations/_new.haml (38.4ms)
  [1m[35mInvitation Load (0.1ms)[0m  SELECT `invitations`.* FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.project_id = 1)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered invitations/_invitation.haml (26.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` INNER JOIN `people` ON `users`.id = `people`.user_id WHERE ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) AND ((`people`.project_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0) AND ((`people`.`role` = 3))) ORDER BY users.updated_at DESC[0m
Rendered people/_header.haml (148.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered people/_person.haml (161.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, 1) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))
  [1m[36mMembership Load (0.1ms)[0m  [1mSELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)[0m
Rendered shared/_keyboard.haml (4.5ms)
Rendered shared/_confirm_email.haml (5.0ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)
Rendered shared/_global_navigation.haml (10.6ms)
Rendered shared/_header.html.haml (19.0ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))[0m
  [1m[35mTask Load (0.1ms)[0m  SELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc
Rendered shared/_navigation.html.haml (20.3ms)
Rendered shared/_footer.haml (4.0ms)
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered people/index.haml within layouts/application (1049.2ms)
Completed 200 OK in 1170ms (Views: 1057.7ms | ActiveRecord: 3.3ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 22:11:51 +0800 2012


Started GET "/account/settings" for 127.0.0.1 at Wed Feb 15 22:14:48 +0800 2012
  Processing by UsersController#edit as HTML
  Parameters: {"sub_action"=>"settings"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
Rendered shared/_user_navigation.erb (6.3ms)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_settings.haml (1032.6ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (159.5ms)
Rendered shared/_confirm_email.haml (5.5ms)
Rendered shared/_search_bar.haml (2.4ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (27.4ms)
Rendered shared/_header.html.haml (44.2ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (20.5ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered users/edit.haml within layouts/application (1360.8ms)
Completed 200 OK in 1432ms (Views: 1374.9ms | ActiveRecord: 1.8ms | Sphinx: 0.0ms)


Started GET "/trimmer/en.js" for 127.0.0.1 at Wed Feb 15 22:14:51 +0800 2012


Started POST "/users/0612800232" for 127.0.0.1 at Wed Feb 15 22:15:02 +0800 2012
  Processing by UsersController#update as HTML
  Parameters: {"user"=>{"old_password"=>"[FILTERED]", "keyboard_shortcuts"=>"0", "login"=>"0612800232", "email"=>"liwenjingabc@gmail.com", "show_badges"=>"0", "password_confirmation"=>"[FILTERED]", "first_day_of_week"=>"sunday", "password"=>"[FILTERED]", "locale"=>"zh", "time_zone"=>"Beijing", "auto_accept_invites"=>"1", "betatester"=>"0"}, "commit"=>"Update account", "utf8"=>"✓", "authenticity_token"=>"fT2KSoKOPm7HCqQAe+/1xiDowTcFCZKMpUuUBDqliqc=", "sub_action"=>"settings", "id"=>"0612800232"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM `users` WHERE (LOWER(`users`.`login`) = LOWER('0612800232')) AND (`users`.id <> 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM `users` WHERE (LOWER(`users`.`email`) = LOWER('liwenjingabc@gmail.com')) AND (`users`.id <> 1) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `locale` = 'zh', `recent_projects_ids` = '--- \n- 1\n', `updated_at` = '2012-02-15 14:15:04', `settings` = '{\"stats\":{\"conversations\":1,\"invites\":2,\"projects\":1},\"keyboard_shortcuts\":false,\"badges\":[\"first_project\",\"first_invite\",\"first_conversation\"],\"collapse_activities\":false,\"show_badges\":false}' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (45.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/account/settings
Completed 302 Found in 124ms


Started GET "/account/settings" for 127.0.0.1 at Wed Feb 15 22:15:04 +0800 2012
  Processing by UsersController#edit as HTML
  Parameters: {"sub_action"=>"settings"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
Rendered shared/_user_navigation.erb (171.3ms)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_settings.haml (37.5ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (3.7ms)
Rendered shared/_confirm_email.haml (4.6ms)
Rendered shared/_search_bar.haml (2.1ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (191.1ms)
Rendered shared/_header.html.haml (206.3ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (21.9ms)
Rendered shared/_footer.haml (3.6ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered users/edit.haml within layouts/application (539.4ms)
Completed 200 OK in 613ms (Views: 549.2ms | ActiveRecord: 2.5ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 22:15:06 +0800 2012


Started GET "/users/0612800232/unconfirmed_email?resend=true" for 127.0.0.1 at Wed Feb 15 22:15:19 +0800 2012
  Processing by UsersController#unconfirmed_email as HTML
  Parameters: {"resend"=>"true", "id"=>"0612800232"}
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE `users` SET `login_token_expires_at` = '2012-03-15 14:15:21', `recent_projects_ids` = '--- \n- 1\n', `login_token` = '33c5191598533815d3444a77b4ff1cea2194d200', `updated_at` = '2012-02-15 14:15:21' WHERE `users`.`id` = 1
[paperclip] Saving attachments.
  [1m[36mSQL (38.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
Rendered emailer/_dont_answer.html.haml (1.9ms)
Rendered emailer/confirm_email.html.haml (10.7ms)
Rendered emailer/_dont_answer.text.erb (0.5ms)
Rendered emailer/confirm_email.text.erb (2.7ms)

Sent mail to liwenjingabc@gmail.com (22ms)
Date: Wed, 15 Feb 2012 22:15:21 +0800
From: Teambox <no-reply@mail.126.com>
To: liwenjingabc@gmail.com
Message-ID: <4f3bbdf963a8b_159b2525676a94987@lee-laptop.mail>
Subject: Get started with Teambox
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_4f3bbdf95df3b_159b2525676a946cd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_4f3bbdf95df3b_159b2525676a946cd
Date: Wed, 15 Feb 2012 22:15:21 +0800
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbdf961768_159b2525676a94743@lee-laptop.mail>

// Do not reply to this email.


Hey, =E6=9D=8E =E6=96=87=E9=9D=99!


In order to complete your signup for Teambox, we need you to log in by cl=
icking here:

http://localhost:3000/users/0612800232/confirm_email?token=3D33c519159853=
3815d3444a77b4ff1cea2194d200


You received this message because you signed up for a Teambox account wit=
h liwenjingabc@gmail.com
If you have any problems, please contact us at http://help.teambox.com


----==_mimepart_4f3bbdf95df3b_159b2525676a946cd
Date: Wed, 15 Feb 2012 22:15:21 +0800
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-ID: <4f3bbdf962a98_159b2525676a948ec@lee-laptop.mail>

<div class=3D'email' style=3D'font-size: 14px; color: rgb(50,50,50); font=
-family: Helvetica, Arial; margin: 20px 0'>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    Do not reply to this email.
  </p>
  <p>Hey, =E6=9D=8E =E6=96=87=E9=9D=99!</p>
  <div class=3D'box' style=3D'background-color: rgb(255,255,220); border:=
 1px rgb(220,220,150) solid;padding: 5px 10px; margin: 20px 0;'>
    <p>In order to <b>complete your signup</b> for Teambox, we need you t=
o log in by clicking here:</p>
    <h2 style=3D'font-size: 18px; color: rgb(0,0,0);'>
      <a href=3D"http://localhost:3000/users/0612800232/confirm_email?tok=
en=3D33c5191598533815d3444a77b4ff1cea2194d200">Log into Teambox now!</a>
    </h2>
  </div>
  <p style=3D'font-size: 10px; color: rgb(100,100,100);'>
    If this doesn't work, copy and paste the following link in your brows=
er's bar:
    <br>
    <a href=3D"http://localhost:3000/users/0612800232/confirm_email?token=
=3D33c5191598533815d3444a77b4ff1cea2194d200">http://localhost:3000/users/=
0612800232/confirm_email?token=3D33c5191598533815d3444a77b4ff1cea2194d200=
</a>
  </p>
  <div class=3D'footer' style=3D'font-size: 10px; color: rgb(100,100,100)=
;'>
    <p>You received this message because you signed up for a Teambox acco=
unt with liwenjingabc@gmail.com</p>
    <p>If you have any problems, please contact us at http://help.teambox=
.com</p>
  </div>
</div>


----==_mimepart_4f3bbdf95df3b_159b2525676a946cd--
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (3.9ms)
Rendered shared/_confirm_email.haml (4.7ms)
Rendered shared/_search_bar.haml (2.0ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (198.4ms)
Rendered shared/_header.html.haml (213.6ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (21.8ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.5ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered users/unconfirmed_email.haml within layouts/application (334.3ms)
Completed 200 OK in 765ms (Views: 351.6ms | ActiveRecord: 41.7ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 22:15:21 +0800 2012


Started GET "/account/settings" for 127.0.0.1 at Wed Feb 15 22:16:36 +0800 2012
  Processing by UsersController#edit as HTML
  Parameters: {"sub_action"=>"settings"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
Rendered shared/_user_navigation.erb (6.3ms)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
DEPRECATION WARNING: Errors#on have been deprecated, use Errors#[] instead.
Also note that the behaviour of Errors#[] has changed. Errors#[] now always returns an Array. An empty Array is returned when there are no errors on the specified attribute. (called from errors_for at /home/lee/dev/teambox/app/helpers/application_helper.rb:133)
Rendered users/form/_settings.haml (37.4ms)
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT DISTINCT `people`.project_id FROM `people` WHERE ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.user_id = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (4.1ms)
Rendered shared/_confirm_email.haml (5.7ms)
Rendered shared/_search_bar.haml (164.1ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (29.5ms)
Rendered shared/_header.html.haml (207.4ms)
  [1m[35mPerson Load (0.1ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (21.7ms)
Rendered shared/_footer.haml (3.8ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mSQL (0.1ms)[0m  [1m SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
[0m
Rendered users/edit.haml within layouts/application (375.6ms)
Completed 200 OK in 597ms (Views: 385.8ms | ActiveRecord: 1.7ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 22:16:38 +0800 2012


Started GET "/users/0612800232" for 127.0.0.1 at Wed Feb 15 22:16:43 +0800 2012
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"0612800232"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1))[0m
  [1m[35mOrganization Load (0.1ms)[0m  SELECT `organizations`.* FROM `organizations` INNER JOIN `memberships` ON `organizations`.id = `memberships`.organization_id WHERE ((`organizations`.`deleted` IS NULL OR `organizations`.`deleted` = 0)) AND ((`memberships`.user_id = 1)) LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`login` = '0612800232' AND ((`users`.`deleted` IS NULL OR `users`.`deleted` = 0)) ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCard Load (0.3ms)[0m  SELECT `cards`.* FROM `cards` WHERE (`cards`.user_id = 1) LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0)) ORDER BY name ASC
  [1m[36mActivity Load (0.6ms)[0m  [1mSELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE `activities`.`user_id` = 1 AND (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) ORDER BY last_activity_id desc LIMIT 25[0m
  [1m[35mActivity Load (0.6ms)[0m  SELECT `activities`.* FROM `activities` LEFT JOIN watchers ON ((activities.comment_target_id = watchers.watchable_id AND watchers.watchable_type = activities.comment_target_type) OR (activities.target_id = watchers.watchable_id AND watchers.watchable_type = activities.target_type)) AND watchers.user_id = 1 WHERE `activities`.`user_id` = 1 AND (activities.project_id IN (1)) AND (is_private = 0 OR (is_private = 1 AND watchers.user_id = 1)) AND (target_type != 'Comment') ORDER BY last_activity_id desc LIMIT 25
  [1m[36mConversation Load (0.3ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 LIMIT 1[0m
  [1m[35mComment Load (0.4ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mWatcher Load (0.1ms)[0m  SELECT DISTINCT `watchers`.user_id FROM `watchers` WHERE (`watchers`.watchable_id = 1 AND `watchers`.watchable_type = 'Conversation')
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mComment Load (0.1ms)[0m  SELECT `comments`.* FROM `comments` WHERE ((`comments`.`deleted` IS NULL OR `comments`.`deleted` = 0)) AND (`comments`.target_id = 1 AND `comments`.target_type = 'Conversation') ORDER BY created_at DESC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mConversation Load (0.1ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM `google_docs` WHERE ((`google_docs`.`deleted` IS NULL OR `google_docs`.`deleted` = 0)) AND (`google_docs`.comment_id = 1)
Rendered comments/_comment.haml (52.6ms)
Rendered activities/_thread_comments.haml (58.9ms)
Rendered google_docs/_form.haml (6.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `conversations`.* FROM `conversations` WHERE `conversations`.`id` = 1 AND ((`conversations`.`deleted` IS NULL OR `conversations`.`deleted` = 0)) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `people`.* FROM `people` WHERE `people`.`user_id` = 1 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0)) AND (`people`.project_id = 1) LIMIT 1
Rendered comments/_fields.haml (221.0ms)
Rendered activities/_thread.haml (513.5ms)
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.updated_at DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `projects`.* FROM `projects` WHERE `projects`.`id` = 1 AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) LIMIT 1[0m
Rendered activities/_create_project.haml (12.6ms)
Rendered activities/_show_more.haml (2.8ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `phone_numbers` WHERE (`phone_numbers`.card_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `email_addresses` WHERE (`email_addresses`.card_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `websites` WHERE (`websites`.card_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `addresses` WHERE (`addresses`.card_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM `ims` WHERE (`ims`.card_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM `social_networks` WHERE (`social_networks`.card_id = 1)[0m
Rendered cards/_card.haml (252.4ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT projects.id, projects.permalink, projects.organization_id, projects.user_id, projects.archived, projects.tracks_time, projects.name, people.role FROM `projects` INNER JOIN `people` ON `people`.`project_id` = `projects`.`id` AND people.user_id = 1 WHERE `projects`.`id` IN (1, NULL) AND ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0))
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT distinct(organizations.id), organizations.name, organizations.permalink FROM `projects` INNER JOIN `organizations` ON `organizations`.`id` = `projects`.`organization_id` INNER JOIN `people` ON `projects`.id = `people`.project_id WHERE ((`projects`.`deleted` IS NULL OR `projects`.`deleted` = 0)) AND ((`people`.user_id = 1) AND (`people`.deleted IS NULL OR `people`.deleted = 0))[0m
  [1m[35mMembership Load (0.1ms)[0m  SELECT organizations.id, organizations.name, organizations.permalink, memberships.role FROM `memberships` INNER JOIN `organizations` ON `organizations`.`id` = `memberships`.`organization_id` WHERE `organizations`.`deleted` = 0 AND (`memberships`.user_id = 1)
Rendered shared/_keyboard.haml (5.0ms)
Rendered shared/_confirm_email.haml (4.5ms)
Rendered shared/_search_bar.haml (2.0ms)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM `invitations` WHERE ((`invitations`.`deleted` IS NULL OR `invitations`.`deleted` = 0)) AND (`invitations`.invited_user_id = 1) AND (project_id IS NOT NULL)[0m
Rendered shared/_global_navigation.haml (12.6ms)
Rendered shared/_header.html.haml (28.1ms)
  [1m[35mPerson Load (0.4ms)[0m  SELECT `people`.* FROM `people` INNER JOIN `projects` ON `projects`.`id` = `people`.`project_id` WHERE `people`.`user_id` = 1 AND `projects`.`archived` = 0 AND ((`people`.`deleted` IS NULL OR `people`.`deleted` = 0))
  [1m[36mTask Load (0.1ms)[0m  [1mSELECT `tasks`.* FROM `tasks` WHERE `tasks`.`status` IN (0, 1) AND `tasks`.`assigned_id` IN (1) AND ((`tasks`.`deleted` IS NULL OR `tasks`.`deleted` = 0)) ORDER BY position ASC, created_at DESC, ID desc[0m
Rendered shared/_navigation.html.haml (22.2ms)
Rendered shared/_footer.haml (3.7ms)
  [1m[35mSQL (1.0ms)[0m   SELECT people.project_id, users.login, users.first_name, users.last_name, people.id, users.id
 FROM people
 INNER JOIN projects ON projects.id = people.project_id
 INNER JOIN users ON users.id = people.user_id
 WHERE people.project_id IN (1)
 AND (people.deleted IS NULL OR people.deleted = 0)
 ORDER BY users.first_name, users.last_name
Rendered users/show.haml within layouts/application (1786.1ms)
Completed 200 OK in 1917ms (Views: 1810.0ms | ActiveRecord: 8.4ms | Sphinx: 0.0ms)


Started GET "/trimmer/zh.js" for 127.0.0.1 at Wed Feb 15 22:16:47 +0800 2012
